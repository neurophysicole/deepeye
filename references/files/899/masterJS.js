var IssueToolboxPdf,ArticleToolboxPdf,SCM,App;(function(n,t,i,r){"use strict";function c(n){return(typeof n=="string"||n instanceof String)&&(n=n.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),n}var f=function(t){for(var i=t.length,r=n("head");i--;)r.has("."+t[i]).length===0&&r.append('<meta class="'+t[i]+'" />')};f(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),n(function(){typeof FastClick!="undefined"&&typeof i.body!="undefined"&&FastClick.attach(i.body)});var u=function(t,r){if(typeof t=="string"){if(r){var u;if(r.jquery){if(u=r[0],!u)return r}else u=r;return n(u.querySelectorAll(t))}return n(i.querySelectorAll(t))}return n(t,r)},e=function(n){var t=[];return n||t.push("data"),this.namespace.length>0&&t.push(this.namespace),t.push(this.name),t.join("-")},o=function(n){for(var i=n.split("-"),t=i.length,r=[];t--;)t!==0?r.push(i[t]):this.namespace.length>0?r.push(this.namespace,i[t]):r.push(i[t]);return r.reverse().join("-")},s=function(t,i){var r=this,f=!u(this).data(this.attr_name(!0));if(typeof t=="string")return this[t].call(this,i);u(this.scope).is("["+this.attr_name()+"]")?(u(this.scope).data(this.attr_name(!0)+"-init",n.extend({},this.settings,i||t,this.data_options(u(this.scope)))),f&&this.events(this.scope)):u("["+this.attr_name()+"]",this.scope).each(function(){var f=!u(this).data(r.attr_name(!0)+"-init");u(this).data(r.attr_name(!0)+"-init",n.extend({},r.settings,i||t,r.data_options(u(this)))),f&&r.events(this)})},h=function(n,t){function i(){t(n[0])}function r(){this.one("load",i);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var n=this.attr("src"),t=n.match(/\?/)?"&":"?";t+="random="+(new Date).getTime(),this.attr("src",n+t)}}if(!n.attr("src")){i();return}n[0].complete||n[0].readyState===4?i():r.call(n)};t.matchMedia=t.matchMedia||function(n){var u,i=n.documentElement,f=i.firstElementChild||i.firstChild,r=n.createElement("body"),t=n.createElement("div");return t.id="mq-test-1",t.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(t),function(n){return t.innerHTML='&shy;<style media="'+n+'"> #mq-test-1 { width: 42px; }<\/style>',i.insertBefore(r,f),u=t.offsetWidth===42,i.removeChild(r),{matches:u,media:n}}}(i),function(){function o(){r&&(i(o),e&&jQuery.fx.tick())}for(var r,n=0,u=["webkit","moz"],i=t.requestAnimationFrame,f=t.cancelAnimationFrame,e="undefined"!=typeof jQuery.fx;n<u.length&&!i;n++)i=t[u[n]+"RequestAnimationFrame"],f=f||t[u[n]+"CancelAnimationFrame"]||t[u[n]+"CancelRequestAnimationFrame"];i?(t.requestAnimationFrame=i,t.cancelAnimationFrame=f,e&&(jQuery.fx.timer=function(n){n()&&jQuery.timers.push(n)&&!r&&(r=!0,o())},jQuery.fx.stop=function(){r=!1})):(t.requestAnimationFrame=function(i){var r=(new Date).getTime(),u=Math.max(0,16-(r-n)),f=t.setTimeout(function(){i(r+u)},u);return n=r+u,f},t.cancelAnimationFrame=function(n){clearTimeout(n)})}(jQuery),t.Foundation={name:"Foundation",version:"5.2.2",media_queries:{small:u(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:u(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:u(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:u(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:u(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:n("<style><\/style>").appendTo("head")[0].sheet,global:{namespace:r},init:function(n,t,i,r,f){var s=[n,i,r,f],e=[],o;if(this.rtl=/rtl/i.test(u("html").attr("dir")),this.scope=n||this.scope,this.set_namespace(),t&&typeof t=="string"&&!/reflow/i.test(t))this.libs.hasOwnProperty(t)&&e.push(this.init_lib(t,s));else for(o in this.libs)e.push(this.init_lib(o,t));return n},init_lib:function(t,i){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),i&&i.hasOwnProperty(t))?(typeof this.libs[t].settings!="undefined"?n.extend(!0,this.libs[t].settings,i[t]):typeof this.libs[t].defaults!="undefined"&&n.extend(!0,this.libs[t].defaults,i[t]),this.libs[t].init.apply(this.libs[t],[this.scope,i[t]])):(i=i instanceof Array?i:new Array(i),this.libs[t].init.apply(this.libs[t],i)):function(){}},patch:function(n){n.scope=this.scope,n.namespace=this.global.namespace,n.rtl=this.rtl,n.data_options=this.utils.data_options,n.attr_name=e,n.add_namespace=o,n.bindings=s,n.S=this.utils.S},inherit:function(n,t){for(var i=t.split(" "),r=i.length;r--;)this.utils.hasOwnProperty(i[r])&&(n[i[r]]=this.utils[i[r]])},set_namespace:function(){var t=this.global.namespace===r?n(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=t===r||/false/i.test(t)?"":t},libs:{},utils:{S:u,throttle:function(n,t){var i=null;return function(){var r=this,u=arguments;i==null&&(i=setTimeout(function(){n.apply(r,u),i=null},t))}},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o=function(){r=null,i||(u=n.apply(f,e))},s=i&&!r;return clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},data_options:function(t){function h(n){return!isNaN(+n)&&n!==null&&n!==""&&n!==!1&&n!==!0}function o(t){return typeof t=="string"?n.trim(t):t}var e={},r,i,u,s=function(n){var t=Foundation.global.namespace;return t.length>0?n.data(t+"-options"):n.data("options")},f=s(t);if(typeof f=="object")return f;for(u=(f||":").split(";"),r=u.length;r--;)i=u[r].split(":"),/true/i.test(i[1])&&(i[1]=!0),/false/i.test(i[1])&&(i[1]=!1),h(i[1])&&(i[1]=i[1].indexOf(".")===-1?parseInt(i[1],10):parseFloat(i[1])),i.length===2&&i[0].length>0&&(e[o(i[0])]=o(i[1]));return e},register_media:function(t,i){Foundation.media_queries[t]===r&&(n("head").append('<meta class="'+i+'">'),Foundation.media_queries[t]=c(n("."+i).css("font-family")))},add_custom_rule:function(n,t){if(t===r&&Foundation.stylesheet)Foundation.stylesheet.insertRule(n,Foundation.stylesheet.cssRules.length);else{var i=Foundation.media_queries[t];i!==r&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[t]+"{ "+n+" }")}},image_loaded:function(n,t){var r=this,i=n.length;i===0&&t(n),n.each(function(){h(r.S(this),function(){i-=1,i===0&&t(n)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)}}},n.fn.foundation=function(){var n=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(n)),this})}})(jQuery,this,this.document),function(n){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.2.2",settings:{active_class:"active",multi_expand:!1,toggleable:!0},init:function(n,t,i){this.bindings(t,i)},events:function(){var i=this,t=this.S;t(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] dd > a",function(r){var f=t(this).closest("["+i.attr_name()+"]"),e=t("#"+this.href.split("#")[1]),o=t("dd > .content",f),s=n("dd",f),u=f.data(i.attr_name(!0)+"-init"),h=t("dd > .content."+u.active_class,f),c=t("dd."+u.active_class,f);if(r.preventDefault(),t(this).closest("dl").is(f)){if(u.toggleable&&e.is(h))return c.toggleClass(u.active_class,!1),e.toggleClass(u.active_class,!1);u.multi_expand||(o.removeClass(u.active_class),s.removeClass(u.active_class)),e.addClass(u.active_class).parent().addClass(u.active_class)}})},off:function(){},reflow:function(){}}}(jQuery,this,this.document),function(n,t){"use strict";Foundation.libs.alert={name:"alert",version:"5.2.2",settings:{callback:function(){}},init:function(n,t,i){this.bindings(t,i)},events:function(){var i=this,r=this.S;n(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] a.close",function(n){var u=r(this).closest("["+i.attr_name()+"]"),f=u.data(i.attr_name(!0)+"-init")||i.settings;if(n.preventDefault(),"transitionend"in t||"webkitTransitionEnd"in t||"oTransitionEnd"in t){u.addClass("alert-close");u.on("transitionend webkitTransitionEnd oTransitionEnd",function(){r(this).trigger("close").remove(),f.callback()})}else u.fadeOut(300,function(){r(this).trigger("close").remove(),f.callback()})})},reflow:function(){}}}(jQuery,this,this.document),function(n,t){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.2.2",settings:{active_class:"open",align:"bottom",is_hover:!1,opened:function(){},closed:function(){}},init:function(n,t,i){Foundation.inherit(this,"throttle"),this.bindings(t,i)},events:function(){var i=this,r=i.S;r(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(t){var u=r(this).data(i.attr_name(!0)+"-init")||i.settings;(!u.is_hover||Modernizr.touch)&&(t.preventDefault(),i.toggle(n(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(n){var u=r(this),f,t,e;clearTimeout(i.timeout),u.data(i.data_attr())?(t=r("#"+u.data(i.data_attr())),f=u):(t=u,f=r("["+i.attr_name()+"='"+t.attr("id")+"']")),e=f.data(i.attr_name(!0)+"-init")||i.settings,r(n.target).data(i.data_attr())&&e.is_hover&&i.closeall.call(i),e.is_hover&&i.open.apply(i,[t,f])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var n=r(this);i.timeout=setTimeout(function(){var u,t;n.data(i.data_attr())?(t=n.data(i.data_attr(!0)+"-init")||i.settings,t.is_hover&&i.close.call(i,r("#"+n.data(i.data_attr())))):(u=r("["+i.attr_name()+'="'+r(this).attr("id")+'"]'),t=u.data(i.attr_name(!0)+"-init")||i.settings,t.is_hover&&i.close.call(i,n))}.bind(this),150)}).on("click.fndtn.dropdown",function(t){var u=r(t.target).closest("["+i.attr_name()+"-content]");if(!r(t.target).data(i.data_attr())&&!r(t.target).parent().data(i.data_attr())){if(!r(t.target).data("revealId")&&u.length>0&&(r(t.target).is("["+i.attr_name()+"-content]")||n.contains(u.first()[0],t.target))){t.stopPropagation();return}i.close.call(i,r("["+i.attr_name()+"-content]"))}}).on("opened.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.closed.call(this)});r(t).off(".dropdown").on("resize.fndtn.dropdown",i.throttle(function(){i.resize.call(i)},50));this.resize()},close:function(n){var t=this;n.each(function(){t.S(this).hasClass(t.settings.active_class)&&(t.S(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(t.settings.active_class).prev("["+t.attr_name()+"]").removeClass(t.settings.active_class),t.S(this).trigger("closed",[n]))})},closeall:function(){var t=this;n.each(t.S("["+this.attr_name()+"-content]"),function(){t.close.call(t,t.S(this))})},open:function(n,t){this.css(n.addClass(this.settings.active_class),t),n.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),n.trigger("opened",[n,t])},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(n){var t=this.S("#"+n.data(this.data_attr()));t.length!==0&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(t)),t.hasClass(this.settings.active_class)?this.close.call(this,t):(this.close.call(this,this.S("["+this.attr_name()+"-content]")),this.open.call(this,t,n)))},resize:function(){var n=this.S("["+this.attr_name()+"-content].open"),t=this.S("["+this.attr_name()+"='"+n.attr("id")+"']");n.length&&t.length&&this.css(n,t)},css:function(n,t){var i,r;return this.clear_idx(),this.small()?(i=this.dirs.bottom.call(n,t),n.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:i.top}),n.css(Foundation.rtl?"right":"left","2.5%")):(r=t.data(this.attr_name(!0)+"-init")||this.settings,this.style(n,t,r)),n},style:function(t,i,r){var u=n.extend({position:"absolute"},this.dirs[r.align].call(t,i,r));t.attr("style","").css(u)},dirs:{_base:function(n){var r=this.offsetParent(),i=r.offset(),t=n.offset();return t.top-=i.top,t.left-=i.left,t},top:function(n){var i=Foundation.libs.dropdown,t=i.dirs._base.call(this,n),r=n.outerWidth()/2-8;return(this.addClass("drop-top"),(n.outerWidth()<this.outerWidth()||i.small())&&i.adjust_pip(r,t),Foundation.rtl)?{left:t.left-this.outerWidth()+n.outerWidth(),top:t.top-this.outerHeight()}:{left:t.left,top:t.top-this.outerHeight()}},bottom:function(n){var i=Foundation.libs.dropdown,t=i.dirs._base.call(this,n),r=n.outerWidth()/2-8;return((n.outerWidth()<this.outerWidth()||i.small())&&i.adjust_pip(r,t),i.rtl)?{left:t.left-this.outerWidth()+n.outerWidth(),top:t.top+n.outerHeight()}:{left:t.left,top:t.top+n.outerHeight()}},left:function(n){var t=Foundation.libs.dropdown.dirs._base.call(this,n);return this.addClass("drop-left"),{left:t.left-this.outerWidth(),top:t.top}},right:function(n){var t=Foundation.libs.dropdown.dirs._base.call(this,n);return this.addClass("drop-right"),{left:t.left+n.outerWidth(),top:t.top}}},adjust_pip:function(n,t){var i=Foundation.stylesheet;this.small()&&(n+=t.left-8),this.rule_idx=i.cssRules.length;var r=".f-dropdown.open:before",u=".f-dropdown.open:after",f="left: "+n+"px;",e="left: "+(n-1)+"px;";i.insertRule?(i.insertRule([r,"{",f,"}"].join(" "),this.rule_idx),i.insertRule([u,"{",e,"}"].join(" "),this.rule_idx+1)):(i.addRule(r,f,this.rule_idx),i.addRule(u,e,this.rule_idx+1))},clear_idx:function(){var n=Foundation.stylesheet;this.rule_idx&&(n.deleteRule(this.rule_idx),n.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(t).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,this,this.document),function(n,t){"use strict";var i=n(t);Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.2.2",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30},init:function(n,t,i){Foundation.inherit(this,"throttle"),this.bindings(t,i)},events:function(){var t=this,u=t.S,r=t.settings;t.set_expedition_position();u(t.scope).off(".magellan").on("click.fndtn.magellan","["+t.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(i){var r;i.preventDefault();var e=n(this).closest("["+t.attr_name()+"]"),o=e.data("magellan-expedition-init"),u=this.hash.split("#").join(""),f=n("a[name='"+u+"']");f.length===0&&(f=n("#"+u)),r=f.offset().top,r=Modernizr.mq("only all and (max-width: 640px)")?r-n(".jumplinks-heading").outerHeight():r-n(".header-top").outerHeight(!0),n("html, body").stop().animate({scrollTop:r},700,"swing",function(){history.pushState?history.pushState(null,null,"#"+u):location.hash="#"+u})}).on("scroll.fndtn.magellan",t.throttle(this.check_for_arrivals.bind(this),r.throttle_delay));i.on("resize.fndtn.magellan",t.throttle(this.set_expedition_position.bind(this),r.throttle_delay))},check_for_arrivals:function(){var n=this;n.update_arrivals(),n.update_expedition_positions()},set_expedition_position:function(){var t=this;n("["+this.attr_name()+"=fixed]",t.scope).each(function(){var i=n(this),u=i.attr("styles"),r;i.attr("style",""),r=i.offset().top,i.data(t.data_attr("magellan-top-offset"),r),i.attr("style",u)})},update_expedition_positions:function(){var t=this,r=i.scrollTop();n("["+this.attr_name()+"=fixed]",t.scope).each(function(){var i=n(this),f=i.data("magellan-top-offset"),u;r>=f?(u=i.prev("["+t.add_namespace("data-magellan-expedition-clone")+"]"),u.length===0&&(u=i.clone(),u.removeAttr(t.attr_name()),u.attr(t.add_namespace("data-magellan-expedition-clone"),""),i.before(u)),i.css({position:"fixed",top:0})):(i.prev("["+t.add_namespace("data-magellan-expedition-clone")+"]").remove(),i.attr("style",""))})},update_arrivals:function(){var t=this,r=i.scrollTop();n("["+this.attr_name()+"]",t.scope).each(function(){var i=n(this),u=u=i.data(t.attr_name(!0)+"-init"),e=t.offsets(i,r),o=i.find("["+t.add_namespace("data-magellan-arrival")+"]"),f=!1;e.each(function(n,r){if(r.viewport_offset>=r.top_offset){var e=i.find("["+t.add_namespace("data-magellan-arrival")+"]");return e.not(r.arrival).removeClass(u.active_class),r.arrival.addClass(u.active_class),f=!0,!0}}),f||o.removeClass(u.active_class)})},offsets:function(t,i){var r=this,u=t.data(r.attr_name(!0)+"-init"),f=i;return t.find("["+r.add_namespace("data-magellan-arrival")+"]").map(function(){var e=n(this).data(r.data_attr("magellan-arrival")),t=n("["+r.add_namespace("data-magellan-destination")+"="+e+"]"),i;if(t.length>0)return i=t.offset().top-u.destination_threshold-n(".header-top").outerHeight(!0),{destination:t,arrival:n(this),top_offset:i,viewport_offset:f}}).sort(function(n,t){return n.top_offset<t.top_offset?-1:n.top_offset>t.top_offset?1:0})},data_attr:function(n){return this.namespace.length>0?this.namespace+"-"+n:n},off:function(){this.S(this.scope).off(".magellan"),this.S(t).off(".magellan")},reflow:function(){var t=this;n("["+t.add_namespace("data-magellan-expedition-clone")+"]",t.scope).remove()}}}(jQuery,this,this.document),function(n,t,i,r){"use strict";function u(n){var t=/fade/i.test(n),i=/pop/i.test(n);return{animate:t||i,pop:i,fade:t}}Foundation.libs.reveal={name:"reveal",version:"5.2.2",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:n(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,i,r){n.extend(!0,this.settings,i,r),this.bindings(i,r)},events:function(){var n=this,t=n.S;t(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]",function(i){var r,u,f;i.preventDefault(),n.locked||(r=t(this),u=r.data(n.data_attr("reveal-ajax")),n.locked=!0,typeof u=="undefined"?n.open.call(n,r):(f=u===!0?r.attr("href"):u,n.open.call(n,r,{url:f})))});t(i).on("touchend.fndtn.reveal click.fndtn.reveal",this.close_targets(),function(i){if(i.preventDefault(),!n.locked){var r=t("["+n.attr_name()+"].open").data(n.attr_name(!0)+"-init"),u=t(i.target)[0]===t("."+r.bg_class)[0];if(u)if(r.close_on_background_click)i.stopPropagation();else return;n.locked=!0,n.close.call(n,u?t("["+n.attr_name()+"].open"):t(this).closest("["+n.attr_name()+"]"))}});if(t("["+n.attr_name()+"]",this.scope).length>0)t(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video);else t(this.scope).on("open.fndtn.reveal","["+n.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+n.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+n.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+n.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+n.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+n.attr_name()+"]",this.close_video);return!0},key_up_on:function(){var n=this;n.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(t){var i=n.S("["+n.attr_name()+"].open"),r=i.data(n.attr_name(!0)+"-init");r&&t.which===27&&r.close_on_esc&&!n.locked&&n.close.call(n,i)});return!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(t,i){var u=this,r,e,f,o;t?typeof t.selector!="undefined"?r=u.S("#"+t.data(u.data_attr("reveal-id"))).first():(r=u.S(this.scope),i=t):r=u.S(this.scope),e=r.data(u.attr_name(!0)+"-init"),r.hasClass("open")||(f=u.S("["+u.attr_name()+"].open"),typeof r.data("css-top")=="undefined"&&r.data("css-top",parseInt(r.css("top"),10)).data("offset",this.cache_offset(r)),this.key_up_on(r),r.trigger("open"),f.length<1&&this.toggle_bg(r,!0),typeof i=="string"&&(i={url:i}),typeof i!="undefined"&&i.url?(o=typeof i.success!="undefined"?i.success:null,n.extend(i,{success:function(t,i,s){n.isFunction(o)&&o(t,i,s),r.html(t),u.S(r).foundation("section","reflow"),u.S(r).children().foundation(),f.length>0&&u.hide(f,e.css.close),u.show(r,e.css.open)}}),n.ajax(i)):(f.length>0&&this.hide(f,e.css.close),this.show(r,e.css.open)))},close:function(n){var n=n&&n.length?n:this.S(this.scope),t=this.S("["+this.attr_name()+"].open"),i=n.data(this.attr_name(!0)+"-init");t.length>0&&(this.locked=!0,this.key_up_off(n),n.trigger("close"),this.toggle_bg(n,!1),this.hide(t,i.css.close,i))},close_targets:function(){var n="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?n+", ."+this.settings.bg_class:n},toggle_bg:function(t,i){this.S("."+this.settings.bg_class).length===0&&(this.settings.bg=n("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var u=this.settings.bg.filter(":visible").length>0;i!=u&&((i==r?u:!i)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(i,r){var s,h,o,e,f;if(r){if(f=i.data(this.attr_name(!0)+"-init"),i.parent("body").length===0){s=i.wrap('<div style="display: none;" />').parent(),h=this.settings.rootElement||"body";i.on("closed.fndtn.reveal.wrapped",function(){i.detach().appendTo(s),i.unwrap().unbind("closed.fndtn.reveal.wrapped")});i.detach().appendTo(h)}return(o=u(f.animation),o.animate||(this.locked=!1),o.pop)?(r.top=n(t).scrollTop()-i.data("offset")+"px",e={top:n(t).scrollTop()+i.data("css-top")+"px",opacity:1},setTimeout(function(){return i.css(r).animate(e,f.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),f.animation_speed/2)):o.fade?(r.top=n(t).scrollTop()+i.data("css-top")+"px",e={opacity:1},setTimeout(function(){return i.css(r).animate(e,f.animation_speed,"linear",function(){this.locked=!1,i.trigger("opened")}.bind(this)).addClass("open")}.bind(this),f.animation_speed/2)):i.css(r).show().css({opacity:1}).addClass("open").trigger("opened")}return(f=this.settings,u(f.animation).fade)?i.fadeIn(f.animation_speed/2):(this.locked=!1,i.show())},hide:function(i,r){var o,e,f;return r?(f=i.data(this.attr_name(!0)+"-init"),o=u(f.animation),o.animate||(this.locked=!1),o.pop)?(e={top:-n(t).scrollTop()-i.data("offset")+"px",opacity:0},setTimeout(function(){return i.animate(e,f.animation_speed,"linear",function(){this.locked=!1,i.css(r).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),f.animation_speed/2)):o.fade?(e={opacity:0},setTimeout(function(){return i.animate(e,f.animation_speed,"linear",function(){this.locked=!1,i.css(r).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),f.animation_speed/2)):i.hide().css(r).removeClass("open").trigger("closed"):(f=this.settings,u(f.animation).fade)?i.fadeOut(f.animation_speed/2):i.hide()},close_video:function(t){var r=n(".flex-video",t.target),i=n("iframe",r);i.length>0&&(i.attr("data-src",i[0].src),i.attr("src","about:blank"),r.hide())},open_video:function(t){var u=n(".flex-video",t.target),i=u.find("iframe"),f,e;i.length>0&&(f=i.attr("data-src"),typeof f=="string"?i[0].src=i.attr("data-src"):(e=i[0].src,i[0].src=r,i[0].src=e),u.show())},data_attr:function(n){return this.namespace.length>0?this.namespace+"-"+n:n},cache_offset:function(n){var t=n.show().height()+parseInt(n.css("top"),10);return n.hide(),t},off:function(){n(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,this,this.document),function(n,t,i){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.2.2",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,mobile_show_parent_link:!1,scrolltop:!0,sticky_on:"all"},init:function(t,i,r){Foundation.inherit(this,"add_custom_rule register_media throttle");var u=this;u.register_media("topbar","foundation-mq-topbar"),this.bindings(i,r),u.S("["+this.attr_name()+"]",this.scope).each(function(){var t=n(this),r=t.data(u.attr_name(!0)+"-init"),f=u.S("section",this),e=t.children().filter("ul").first(),i;t.data("index",0),i=t.parent(),i.hasClass("fixed")||u.is_sticky(t,i,r)?(u.settings.sticky_class=r.sticky_class,u.settings.sticky_topbar=t,t.data("height",i.outerHeight()),t.data("stickyoffset",i.offset().top)):t.data("height",t.outerHeight()),r.assembled||u.assemble(t),r.is_hover?u.S(".has-dropdown",t).addClass("not-click"):u.S(".has-dropdown",t).removeClass("not-click"),u.add_custom_rule(".f-topbar-fixed { padding-top: "+t.data("height")+"px }"),i.hasClass("fixed")&&u.S("body").addClass("f-topbar-fixed")})},is_sticky:function(n,t,i){var r=t.hasClass(i.sticky_class);return r&&i.sticky_on==="all"?!0:r&&this.small()&&i.sticky_on==="small"||r&&this.medium()&&i.sticky_on==="medium"||r&&this.large()&&i.sticky_on==="large"?!0:!1},toggle:function(i){var u=this,r,e,f;r=i?u.S(i).closest("["+this.attr_name()+"]"):u.S("["+this.attr_name()+"]"),e=r.data(this.attr_name(!0)+"-init"),f=u.S("section, .section",r),u.breakpoint()&&(u.rtl?(f.css({right:"0%"}),n(">.name",f).css({right:"100%"})):(f.css({left:"0%"}),n(">.name",f).css({left:"100%"})),u.S("li.moved",f).removeClass("moved"),r.data("index",0),r.toggleClass("expanded").css("height","")),e.scrolltop?r.hasClass("expanded")?r.parent().hasClass("fixed")&&(e.scrolltop?(r.parent().removeClass("fixed"),r.addClass("fixed"),u.S("body").removeClass("f-topbar-fixed"),t.scrollTo(0,0)):r.parent().removeClass("expanded")):r.hasClass("fixed")&&(r.parent().addClass("fixed"),r.removeClass("fixed"),u.S("body").addClass("f-topbar-fixed")):(u.is_sticky(r,r.parent(),e)&&r.parent().addClass("fixed"),r.parent().hasClass("fixed")&&(r.hasClass("expanded")?(r.addClass("fixed"),r.parent().addClass("expanded"),u.S("body").addClass("f-topbar-fixed")):(r.removeClass("fixed"),r.parent().removeClass("expanded"),u.update_sticky_positioning())))},timer:null,events:function(){var i=this,r=this.S;r(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(n){n.preventDefault(),i.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(){var t=n(this).closest("li");!i.breakpoint()||t.hasClass("back")||t.hasClass("has-dropdown")||i.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(t){var u=r(this),f=r(t.target),e=u.closest("["+i.attr_name()+"]"),o=e.data(i.attr_name(!0)+"-init");if(f.data("revealId")){i.toggle();return}i.breakpoint()||(!o.is_hover||Modernizr.touch)&&(t.stopImmediatePropagation(),u.hasClass("hover")?(u.removeClass("hover").find("li").removeClass("hover"),u.parents("li.hover").removeClass("hover")):(u.addClass("hover"),n(u).siblings().removeClass("hover"),f[0].nodeName==="A"&&f.parent().hasClass("has-dropdown")&&t.preventDefault()))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(n){if(i.breakpoint()){n.preventDefault();var u=r(this),t=u.closest("["+i.attr_name()+"]"),f=t.find("section, .section"),o=u.next(".dropdown").outerHeight(),e=u.closest("li");t.data("index",t.data("index")+1),e.addClass("moved"),i.rtl?(f.css({right:-(100*t.data("index"))+"%"}),f.find(">.name").css({right:100*t.data("index")+"%"})):(f.css({left:-(100*t.data("index"))+"%"}),f.find(">.name").css({left:100*t.data("index")+"%"})),t.css("height",u.siblings("ul").outerHeight(!0)+t.data("height"))}});r(t).off(".topbar").on("resize.fndtn.topbar",i.throttle(function(){i.resize.call(i)},50)).trigger("resize");r("body").off(".topbar").on("click.fndtn.topbar touchstart.fndtn.topbar",function(n){var t=r(n.target).closest("li").closest("li.hover");t.length>0||r("["+i.attr_name()+"] li.hover").removeClass("hover")});r(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(n){n.preventDefault();var f=r(this),t=f.closest("["+i.attr_name()+"]"),u=t.find("section, .section"),s=t.data(i.attr_name(!0)+"-init"),e=f.closest("li.moved"),o=e.parent();t.data("index",t.data("index")-1),i.rtl?(u.css({right:-(100*t.data("index"))+"%"}),u.find(">.name").css({right:100*t.data("index")+"%"})):(u.css({left:-(100*t.data("index"))+"%"}),u.find(">.name").css({left:100*t.data("index")+"%"})),t.data("index")===0?t.css("height",""):t.css("height",o.outerHeight(!0)+t.data("height")),setTimeout(function(){e.removeClass("moved")},300)})},resize:function(){var n=this;n.S("["+this.attr_name()+"]").each(function(){var t=n.S(this),e=t.data(n.attr_name(!0)+"-init"),r=t.parent("."+n.settings.sticky_class),u,f;n.breakpoint()||(f=t.hasClass("expanded"),t.css("height","").removeClass("expanded").find("li").removeClass("hover"),f&&n.toggle(t)),n.is_sticky(t,r,e)&&(r.hasClass("fixed")?(r.removeClass("fixed"),u=r.offset().top,n.S(i.body).hasClass("f-topbar-fixed")&&(u-=t.data("height")),t.data("stickyoffset",u),r.addClass("fixed")):(u=r.offset().top,t.data("stickyoffset",u)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(t){var i=this,r=t.data(this.attr_name(!0)+"-init"),u=i.S("section",t),f=n(this).children().filter("ul").first();u.detach(),i.S(".has-dropdown>a",u).each(function(){var u=i.S(this),e=u.siblings(".dropdown"),f=u.attr("href"),t;e.find(".title.back").length||(t=r.mobile_show_parent_link&&f&&f.length>1?n('<li class="title back js-generated"><h5><a href="javascript:void(0)"><\/a><\/h5><\/li><li><a class="parent-link js-generated" href="'+f+'">'+u.text()+"<\/a><\/li>"):n('<li class="title back js-generated"><h5><a href="javascript:void(0)"><\/a><\/h5><\/li>'),r.custom_back_text==!0?n("h5>a",t).html(r.back_text):n("h5>a",t).html("&laquo; "+u.html()),e.prepend(t))}),u.appendTo(t),this.sticky(),this.assembled(t)},assembled:function(t){t.data(this.attr_name(!0),n.extend({},t.data(this.attr_name(!0)),{assembled:!0}))},height:function(t){var i=0,r=this;return n("> li",t).each(function(){i+=r.S(this).outerHeight(!0)}),i},sticky:function(){var i=this.S(t),n=this;this.S(t).on("scroll",function(){n.update_sticky_positioning()})},update_sticky_positioning:function(){var i="."+this.settings.sticky_class,u=this.S(t),n=this,r;n.settings.sticky_topbar&&n.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)&&(r=this.settings.sticky_topbar.data("stickyoffset"),n.S(i).hasClass("expanded")||(u.scrollTop()>r?n.S(i).hasClass("fixed")||(n.S(i).addClass("fixed"),n.S("body").addClass("f-topbar-fixed")):u.scrollTop()<=r&&n.S(i).hasClass("fixed")&&(n.S(i).removeClass("fixed"),n.S("body").removeClass("f-topbar-fixed"))))},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(t).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,this,this.document),function(){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.2.2",settings:{close_on_click:!0},init:function(n,t,i){this.bindings(t,i)},events:function(){var n=this,t=n.S;t(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(t){n.click_toggle_class(t,"move-right")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(i){var r=n.get_settings(i);r.close_on_click&&t(".off-canvas-wrap").removeClass("move-right")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(t){n.click_toggle_class(t,"move-left")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(i){var r=n.get_settings(i);r.close_on_click&&t(".off-canvas-wrap").removeClass("move-left")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(t){n.click_remove_class(t,"move-left"),n.click_remove_class(t,"move-right")})},click_toggle_class:function(n,t){n.preventDefault(),this.S(n.target).closest(".off-canvas-wrap").toggleClass(t)},click_remove_class:function(n,t){n.preventDefault(),this.S(".off-canvas-wrap").removeClass(t)},get_settings:function(n){var t=this.S(n.target).closest("["+this.attr_name()+"]");return t.data(this.attr_name(!0)+"-init")||this.settings},reflow:function(){}}}(jQuery,this,this.document),function(n,t,i,r){"use strict";Foundation.libs.tab={name:"tab",version:"5.2.2",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(n,t,i){var r=this,u=this.S;this.bindings(t,i),this.handle_location_hash_change(),u("["+this.attr_name()+"] > dd.active > a",this.scope).each(function(){r.default_tab_hashes.push(this.hash)})},events:function(){var n=this,i=this.S;i(this.scope).off(".tab").on("click.fndtn.tab","["+this.attr_name()+"] > dd > a",function(t){var r=i(this).closest("["+n.attr_name()+"]").data(n.attr_name(!0)+"-init");(!r.is_hover||Modernizr.touch)&&(t.preventDefault(),t.stopPropagation(),n.toggle_active_tab(i(this).parent()))}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > dd > a",function(){var t=i(this).closest("["+n.attr_name()+"]").data(n.attr_name(!0)+"-init");t.is_hover&&n.toggle_active_tab(i(this).parent())});i(t).on("hashchange.fndtn.tab",function(t){t.preventDefault(),n.handle_location_hash_change()})},handle_location_hash_change:function(){var t=this,i=this.S;i("["+this.attr_name()+"]",this.scope).each(function(){var s=i(this).data(t.attr_name(!0)+"-init"),u,f,e,o;if(s.deep_linking)if(u=t.scope.location.hash,u!="")f=i(u),f.hasClass("content")&&f.parent().hasClass("tab-content")?t.toggle_active_tab(n("["+t.attr_name()+"] > dd > a[href="+u+"]").parent()):(e=f.closest(".content").attr("id"),e!=r&&t.toggle_active_tab(n("["+t.attr_name()+"] > dd > a[href=#"+e+"]").parent(),u));else for(o in t.default_tab_hashes)t.toggle_active_tab(n("["+t.attr_name()+"] > dd > a[href="+t.default_tab_hashes[o]+"]").parent())})},toggle_active_tab:function(i,u){var o=this.S,h=i.closest("["+this.attr_name()+"]"),l=i.children("a").first(),f="#"+l.attr("href").split("#")[1],s=o(f),a=i.siblings(),e=h.data(this.attr_name(!0)+"-init"),c;o(this).data(this.data_attr("tab-content"))&&(f="#"+o(this).data(this.data_attr("tab-content")).split("#")[1],s=o(f)),e.deep_linking&&(c=n("body,html").scrollTop(),t.location.hash=u!=r?u:f,e.scroll_to_content?u==r||u==f?i.parent()[0].scrollIntoView():o(f)[0].scrollIntoView():(u==r||u==f)&&n("body,html").scrollTop(c)),i.addClass(e.active_class).triggerHandler("opened"),a.removeClass(e.active_class),s.siblings().removeClass(e.active_class).end().addClass(e.active_class),e.callback(i),s.triggerHandler("toggled",[i]),h.triggerHandler("toggled",[s])},data_attr:function(n){return this.namespace.length>0?this.namespace+"-"+n:n},off:function(){},reflow:function(){}}}(jQuery,this,this.document),function(n,t){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.2.2",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,medium:Foundation.media_queries.medium,large:Foundation.media_queries.large,xlarge:Foundation.media_queries.xlarge,xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(t,i,r){var u,f;return/IMG/.test(t[0].nodeName)?(u=t[0].src,new RegExp(i,"i").test(u))?void 0:(t[0].src=i,r(t[0].src)):(f=t.data(this.data_attr+"-last-path"),f==i)?void 0:/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(i)?(n(t).css("background-image","url("+i+")"),t.data("interchange-last-path",i),r(i)):n.get(i,function(n){t.html(n),t.data(this.data_attr+"-last-path",i),r()})}}},init:function(t,i,r){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),n.extend(!0,this.settings,i,r),this.bindings(i,r),this.load("images"),this.load("nodes")},get_media_hash:function(){var n="",t;for(t in this.settings.named_queries)n+=matchMedia(this.settings.named_queries[t]).matches.toString();return n},events:function(){var i=this,r;n(t).off(".interchange").on("resize.fndtn.interchange",i.throttle(function(){var n=i.get_media_hash();n!==r&&i.resize(),r=n},50));return this},resize:function(){var r=this.cache,i,t;if(!this.images_loaded||!this.nodes_loaded){setTimeout(n.proxy(this.resize,this),50);return}for(i in r)r.hasOwnProperty(i)&&(t=this.results(i,r[i]),t&&this.settings.directives[t.scenario[1]].call(this,t.el,t.scenario[0],function(){var n;n=arguments[0]instanceof Array?arguments[0]:Array.prototype.slice.call(arguments,0),t.el.trigger(t.scenario[1],n)}))},results:function(n,t){var i=t.length,u,f,r;if(i>0)for(u=this.S("["+this.add_namespace("data-uuid")+'="'+n+'"]');i--;)if(r=t[i][2],f=this.settings.named_queries.hasOwnProperty(r)?matchMedia(this.settings.named_queries[r]):matchMedia(r),f.matches)return{el:u,scenario:t[i]};return!1},load:function(n,t){return(typeof this["cached_"+n]=="undefined"||t)&&this["update_"+n](),this["cached_"+n]},update_images:function(){var n=this.S("img["+this.data_attr+"]"),i=n.length,t=i,r=0,f=this.data_attr,u;for(this.cache={},this.cached_images=[],this.images_loaded=i===0;t--;)r++,n[t]&&(u=n[t].getAttribute(f)||"",u.length>0&&this.cached_images.push(n[t])),r===i&&(this.images_loaded=!0,this.enhance("images"));return this},update_nodes:function(){var n=this.S("["+this.data_attr+"]").not("img"),t=n.length,i=t,r=0,f=this.data_attr,u;for(this.cached_nodes=[],this.nodes_loaded=t===0;i--;)r++,u=n[i].getAttribute(f)||"",u.length>0&&this.cached_nodes.push(n[i]),r===t&&(this.nodes_loaded=!0,this.enhance("nodes"));return this},enhance:function(i){for(var r=this["cached_"+i].length;r--;)this.object(n(this["cached_"+i][r]));return n(t).trigger("resize")},parse_params:function(n,t,i){return[this.trim(n),this.convert_directive(t),this.trim(i)]},convert_directive:function(n){var t=this.trim(n);return t.length>0?t:"replace"},object:function(n){var u=this.parse_data_attr(n),f=[],i=u.length,t,r,e;if(i>0)while(i--)t=u[i].split(/\((.*?)(\))$/),t.length>1&&(r=t[0].split(","),e=this.parse_params(r[0],r[1],t[1]),f.push(e));return this.store(n,f)},store:function(n,t){var i=this.random_str(),r=n.data(this.add_namespace("uuid",!0));return this.cache[r]?this.cache[r]:(n.attr(this.add_namespace("data-uuid"),i),this.cache[i]=t)},trim:function(t){return typeof t=="string"?n.trim(t):t},set_data_attr:function(n){return n?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(n){for(var t=n.attr(this.attr_name()).split(/\[(.*?)\]/),i=t.length,r=[];i--;)t[i].replace(/[\W\d]+/,"").length>4&&r.push(t[i]);return r},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,this,this.document),function(n,t){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.2.2",settings:{use_tallest:!0,before_height_change:n.noop,after_height_change:n.noop},init:function(n,t,i){Foundation.inherit(this,"image_loaded"),this.bindings(t,i),this.reflow()},events:function(){this.S(t).off(".equalizer").on("resize.fndtn.equalizer",function(){this.reflow()}.bind(this))},equalize:function(t){var f=!1,i=t.find("["+this.attr_name()+"-watch]:visible"),s=i.first().offset().top,r=t.data(this.attr_name(!0)+"-init"),u,e,o;i.length!==0&&((r.before_height_change(),t.trigger("before-height-change"),i.height("inherit"),i.each(function(){var t=n(this);t.offset().top!==s&&(f=!0)}),f)||(u=i.map(function(){return n(this).outerHeight()}).get(),r.use_tallest?(e=Math.max.apply(null,u),i.css("height",e)):(o=Math.min.apply(null,u),i.css("height",o)),r.after_height_change(),t.trigger("after-height-change")))},reflow:function(){var t=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var i=n(this);t.image_loaded(t.S("img",this),function(){t.equalize(i)})})}}}(jQuery,this,this.document);
/*!
** Unobtrusive Ajax support library for jQuery
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
(function(n){function i(n,t){for(var i=window,r=(n||"").split(".");i&&r.length;)i=i[r.shift()];return typeof i=="function"?i:(t.push(n),Function.constructor.apply(null,t))}function r(n){return n==="GET"||n==="POST"}function e(n,t){r(t)||n.setRequestHeader("X-HTTP-Method-Override",t)}function o(t,i,r){var u;r.indexOf("application/x-javascript")===-1&&(u=(t.getAttribute("data-ajax-mode")||"").toUpperCase(),n(t.getAttribute("data-ajax-update")).each(function(t,r){var f;switch(u){case"BEFORE":f=r.firstChild,n("<div />").html(i).contents().each(function(){r.insertBefore(this,f)});break;case"AFTER":n("<div />").html(i).contents().each(function(){r.appendChild(this)});break;default:n(r).html(i)}}))}function u(t,u){var s,h,f,c;(s=t.getAttribute("data-ajax-confirm"),!s||window.confirm(s))&&(h=n(t.getAttribute("data-ajax-loading")),c=t.getAttribute("data-ajax-loading-duration")||0,n.extend(u,{type:t.getAttribute("data-ajax-method")||undefined,url:t.getAttribute("data-ajax-url")||undefined,beforeSend:function(n){var r;return e(n,f),r=i(t.getAttribute("data-ajax-begin"),["xhr"]).apply(this,arguments),r!==!1&&h.show(c),r},complete:function(){h.hide(c),i(t.getAttribute("data-ajax-complete"),["xhr","status"]).apply(this,arguments)},success:function(n,r,u){o(t,n,u.getResponseHeader("Content-Type")||"text/html"),i(t.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(this,arguments)},error:i(t.getAttribute("data-ajax-failure"),["xhr","status","error"])}),u.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),f=u.type.toUpperCase(),r(f)||(u.type="POST",u.data.push({name:"X-HTTP-Method-Override",value:f})),n.ajax(u))}function s(t){var i=n(t).data(f);return!i||!i.validate||i.validate()}var t="unobtrusiveAjaxClick",f="unobtrusiveValidation";n(document).on("click","a[data-ajax=true]",function(n){n.preventDefault(),u(this,{url:this.href,type:"GET",data:[]})});n(document).on("click","form[data-ajax=true] input[type=image]",function(i){var r=i.target.name,u=n(i.target),f=u.parents("form")[0],e=u.offset();n(f).data(t,[{name:r+".x",value:Math.round(i.pageX-e.left)},{name:r+".y",value:Math.round(i.pageY-e.top)}]),setTimeout(function(){n(f).removeData(t)},0)});n(document).on("click","form[data-ajax=true] :submit",function(i){var r=i.target.name,u=n(i.target).parents("form")[0];n(u).data(t,r?[{name:r,value:i.target.value}]:[]),setTimeout(function(){n(u).removeData(t)},0)});n(document).on("submit","form[data-ajax=true]",function(i){var r=n(this).data(t)||[];(i.preventDefault(),s(this))&&u(this,{url:this.action,type:this.method||"GET",data:r.concat(n(this).serializeArray())})})})(jQuery);
/*! jQuery Validation Plugin - v1.10.0 - 9/7/2012
* https://github.com/jzaefferer/jquery-validation
* Copyright (c) 2012 JÃ¶rn Zaefferer; Licensed MIT */
(function(n){n.extend(n.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return i.settings.submitHandler?(i.submitButton&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),!1):!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t),r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],o,u,h;if(t){var e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i)),s[r.name]=f,i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(o={},n.each(i.split(/\s/),function(n,t){o[t]=f[t],delete f[t]}),o):(delete s[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.metadataRules(r),n.validator.classRules(r),n.validator.attributeRules(r),n.validator.staticRules(r)),r),u.required&&(h=u.required,delete u.required,u=n.extend({required:h},u)),u}}),n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+t.value)},filled:function(t){return!!n.trim(""+t.value)},unchecked:function(n){return!n.checked}}),n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t),this.currentForm=i,this.init()},n.validator.format=function(t,i){return arguments.length===1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),i)}),t)},n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(t.which!==9||this.elementValue(n)!=="")&&(n.name in this.submitted||n===this.lastActive)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}var i,t;this.labelContainer=n(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm),this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),i=this.groups={},n.each(this.settings.groups,function(t,r){n.each(r.split(/\s/),function(n,r){i[r]=t})}),t=this.settings.rules,n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)}),n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",r).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",r),this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=n(t);var i=this.check(t)!==!1;return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name===t.name}).length===1&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return(!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules()))?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=n([]),this.toHide=n([]),this.currentElements=n([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset(),this.toHide=this.errorsFor(n)},elementValue:function(t){var r=n(t).attr("type"),i=n(t).val();return r==="radio"||r==="checkbox"?n('input[name="'+n(t).attr("name")+'"]:checked').val():typeof i=="string"?i.replace(/\r/g,""):i},check:function(t){var r,u;t=this.validationTargetFor(this.clean(t));var f=n(t).rules(),e=!1,s=this.elementValue(t),i;for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,s,t,u.parameters),i==="dependency-mismatch"){e=!0;continue}if(e=!1,i==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!i)return this.formatAndAdd(t,u),!1}catch(o){this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+u.method+"' method",o);throw o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(n.metadata){var r=this.settings.meta?n(t).metadata()[this.settings.meta]:n(t).metadata();return r&&r.messages&&r.messages[i]}},customDataMessage:function(t,i){return n(t).data("msg-"+i.toLowerCase())||t.attributes&&n(t).attr("data-msg-"+i.toLowerCase())},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n];return undefined},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters)),this.errorList.push({message:r,element:t}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=n("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t))),!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")===i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find('[name="'+t+'"]')},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest===0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var u={},f=n(t),r,i;for(r in n.validator.methods)r==="required"?(i=f.get(0).getAttribute(r),i===""&&(i=!0),i=!!i):i=f.attr(r),i?u[r]=i:f[0].getAttribute("type")===r&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},metadataRules:function(t){if(!n.metadata)return{};var i=n.data(t.form,"validator").settings.meta;return i?n(t).metadata()[i]:n(t).metadata()},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1){delete t[r];return}if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i,n.validator.messages[t]=r!==undefined?r:n.validator.messages[t],i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if(i.nodeName.toLowerCase()==="select"){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,this.pending[i.name])?"pending":f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var e,h,s,o;u.settings.messages[i.name].remote=f.originalMessage,e=r===!0||r==="true",e?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(s={},o=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(o)?o(t):o,u.invalid[i.name]=!0,u.showErrors(s)),f.valid=e,u.stopRequest(i,e)}},r)),"pending")},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u<=r},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n))},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r,e;if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)e=n.charAt(r),i=parseInt(e,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()}}}),n.format=n.validator.format})(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;n.mode==="abort"&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return f==="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments)):i.apply(this,arguments)})}(jQuery),function(n){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||n.each({focus:"focusin",blur:"focusout"},function(t,i){function r(t){return t=n.event.fix(t),t.type=i,n.event.handle.call(this,t)}n.event.special[i]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){var r=arguments;return r[0]=n.event.fix(t),r[0].type=i,n.event.handle.apply(this,r)}}}),n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery);
/*!
** Unobtrusive validation support library for jQuery and jQuery Validate
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
(function(n){function i(n,t,i){n.rules[t]=i,n.message&&(n.messages[t]=n.message)}function h(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(n){return n.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function e(n){return n.substr(0,n.lastIndexOf(".")+1)}function o(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function c(t,i){var r=n(this).find("[data-valmsg-for='"+f(i[0].name)+"']"),u=r.attr("data-valmsg-replace"),e=u?n.parseJSON(u)!==!1:null;r.removeClass("field-validation-valid").addClass("field-validation-error"),t.data("unobtrusiveContainer",r),e?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function l(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function a(t){var i=t.data("unobtrusiveContainer"),r=i.attr("data-valmsg-replace"),u=r?n.parseJSON(r):null;i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),u&&i.empty())}function v(){var t=n(this);t.data("validator").resetForm(),t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"),t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}function s(t){var i=n(t),r=i.data(u),f=n.proxy(v,t);return r||(r={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:n.proxy(c,t),invalidHandler:n.proxy(l,t),messages:{},rules:{},success:n.proxy(a,t)},attachValidation:function(){i.unbind("reset."+u,f).bind("reset."+u,f).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(u,r)),r}var r=n.validator,t,u="unobtrusiveValidation";r.unobtrusive={adapters:[],parseElement:function(t,i){var u=n(t),f=u.parents("form")[0],r,e,o;f&&(r=s(f),r.options.rules[t.name]=e={},r.options.messages[t.name]=o={},n.each(this.adapters,function(){var i="data-val-"+this.name,r=u.attr(i),s={};r!==undefined&&(i+="-",n.each(this.params,function(){s[this]=u.attr(i+this)}),this.adapt({element:t,form:f,message:r,params:s,rules:e,messages:o}))}),n.extend(e,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){var i=n(t).parents("form").andSelf().add(n(t).find("form")).filter("form");n(t).find(":input[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)}),i.each(function(){var n=s(this);n&&n.attachValidation()})}},t=r.unobtrusive.adapters,t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this},t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})},t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})},t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})},r.addMethod("__dummy__",function(){return!0}),r.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&r.index===0&&r[0].length===n.length)}),r.addMethod("nonalphamin",function(n,t,i){var r;return i&&(r=n.match(/\W/g),r=r&&r.length>=i),r}),t.addSingleVal("accept","exts").addSingleVal("regex","pattern"),t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),t.add("equalto",["other"],function(t){var r=e(t.element.name),u=t.params.other,s=o(u,r),h=n(t.form).find(":input[name='"+f(s)+"']")[0];i(t,"equalTo",h)}),t.add("required",function(n){(n.element.tagName.toUpperCase()!=="INPUT"||n.element.type.toUpperCase()!=="CHECKBOX")&&i(n,"required",!0)}),t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=e(t.element.name);n.each(h(t.params.additionalfields||t.element.name),function(i,e){var s=o(e,u);r.data[s]=function(){return n(t.form).find(":input[name='"+f(s)+"']").val()}}),i(t,"remote",r)}),t.add("password",["min","nonalphamin","regex"],function(n){n.params.min&&i(n,"minlength",n.params.min),n.params.nonalphamin&&i(n,"nonalphamin",n.params.nonalphamin),n.params.regex&&i(n,"regex",n.params.regex)}),n(function(){r.unobtrusive.parse(document)})})(jQuery),function(n,t,i,r){var u=n(t);n.fn.lazyload=function(f){function s(){var t=0;o.each(function(){var i=n(this);if((!e.skip_invisible||i.is(":visible"))&&!n.abovethetop(this,e)&&!n.leftofbegin(this,e))if(n.belowthefold(this,e)||n.rightoffold(this,e)){if(++t>e.failure_limit)return!1}else i.trigger("appear"),t=0})}var o=this,h,e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return f&&(r!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),r!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),n.extend(e,f)),h=e.container===r||e.container===t?u:n(e.container),0===e.event.indexOf("scroll")&&h.bind(e.event,function(){return s()}),this.each(function(){var t=this,i=n(t);t.loaded=!1;i.one("appear",function(){if(!this.loaded){if(e.appear){var r=o.length;e.appear.call(t,r,e)}n("<img />").bind("load",function(){var r,u;i.hide().attr("src",i.data(e.data_attribute))[e.effect](e.effect_speed),t.loaded=!0,r=n.grep(o,function(n){return!n.loaded}),o=n(r),e.load&&(u=o.length,e.load.call(t,u,e))}).attr("src",i.data(e.data_attribute))}});0!==e.event.indexOf("scroll")&&i.bind(e.event,function(){t.loaded||i.trigger("appear")})}),u.bind("resize",function(){s()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){n(this).trigger("appear")})}),n(i).ready(function(){s()}),this},n.belowthefold=function(i,f){var e;return e=f.container===r||f.container===t?u.height()+u.scrollTop():n(f.container).offset().top+n(f.container).height(),e<=n(i).offset().top-f.threshold},n.rightoffold=function(i,f){var e;return e=f.container===r||f.container===t?u.width()+u.scrollLeft():n(f.container).offset().left+n(f.container).width(),e<=n(i).offset().left-f.threshold},n.abovethetop=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollTop():n(f.container).offset().top,e>=n(i).offset().top+f.threshold+n(i).height()},n.leftofbegin=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollLeft():n(f.container).offset().left,e>=n(i).offset().left+f.threshold+n(i).width()},n.inviewport=function(t,i){return!n.rightoffold(t,i)&&!n.leftofbegin(t,i)&&!n.belowthefold(t,i)&&!n.abovethetop(t,i)},n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})}(jQuery,window,document);
/*!
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function(n){function t(n,t){if(!(n.originalEvent.touches.length>1)){n.preventDefault();var i=n.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(r)}}if(n.support.touch="ontouchend"in document,n.support.touch){var i=n.ui.mouse.prototype,u=i._mouseInit,r;i._touchStart=function(n){var i=this;!r&&i._mouseCapture(n.originalEvent.changedTouches[0])&&(r=!0,i._touchMoved=!1,t(n,"mouseover"),t(n,"mousemove"),t(n,"mousedown"))},i._touchMove=function(n){r&&(this._touchMoved=!0,t(n,"mousemove"))},i._touchEnd=function(n){r&&(t(n,"mouseup"),t(n,"mouseout"),this._touchMoved||t(n,"click"),r=!1)},i._mouseInit=function(){var t=this;t.element.bind("touchstart",n.proxy(t,"_touchStart")).bind("touchmove",n.proxy(t,"_touchMove")).bind("touchend",n.proxy(t,"_touchEnd")),u.call(t)}}})(jQuery);
/*!
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,n){function h(n){return typeof n=="string"}function e(n){var t=w.call(arguments,1);return function(){return n.apply(this,t.concat(w.call(arguments)))}}function st(n){return n.replace(/^[^#]*#?(.*)$/,"$1")}function ht(n){return n.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function ut(e,s,c,a,v){var b,y,w,k,d;return a!==t?(w=c.match(e?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),d=w[3]||"",v===2&&h(a)?y=a.replace(e?it:tt,""):(k=i(w[2]),a=h(a)?i[e?r:u](a):a,y=v===2?a:v===1?$.extend({},a,k):$.extend({},k,a),y=o(y),e&&(y=y.replace(rt,l))),b=w[1]+(e?"#":y||!w[1]?"?":"")+y+d):b=s(c!==t?c:n[p][f]),b}function ft(n,f,e){return f===t||typeof f=="boolean"?(e=f,f=o[n?r:u]()):f=h(f)?f.replace(n?it:tt,""):f,i(f,e)}function et(n,i,r,u){return h(r)||typeof r=="object"||(u=r,r=i,i=t),this.each(function(){var f=$(this),t=i||d()[(this.nodeName||"").toLowerCase()]||"",e=t&&f.attr(t)||"";f.attr(t,o[n](e,r,u))})}var t,w=Array.prototype.slice,l=decodeURIComponent,o=$.param,s,i,a,v=$.bbq=$.bbq||{},b,k,d,g=$.event.special,nt="hashchange",u="querystring",r="fragment",y="elemUrlAttr",p="location",f="href",c="src",tt=/^.*\?|#.*$/g,it=/^.*\#/,rt,ot={};o[u]=e(ut,0,ht),o[r]=s=e(ut,1,st),s.noEscape=function(n){n=n||"";var t=$.map(n.split(""),encodeURIComponent);rt=new RegExp(t.join("|"),"g")},s.noEscape(",/"),$.deparam=i=function(n,i){var r={},u={"true":!0,"false":!1,"null":null};return $.each(n.replace(/\+/g," ").split("&"),function(n,f){var v=f.split("="),s=l(v[0]),e,a=r,c=0,o=s.split("]["),h=o.length-1;if(/\[/.test(o[0])&&/\]$/.test(o[h])?(o[h]=o[h].replace(/\]$/,""),o=o.shift().split("[").concat(o),h=o.length-1):h=0,v.length===2)if(e=l(v[1]),i&&(e=e&&!isNaN(e)?+e:e==="undefined"?t:u[e]!==t?u[e]:e),h)for(;c<=h;c++)s=o[c]===""?a.length:o[c],a=a[s]=c<h?a[s]||(o[c+1]&&isNaN(o[c+1])?{}:[]):e;else $.isArray(r[s])?r[s].push(e):r[s]=r[s]!==t?[r[s],e]:e;else s&&(r[s]=i?t:"")}),r},i[u]=e(ft,0),i[r]=a=e(ft,1),$[y]||($[y]=function(n){return $.extend(ot,n)})({a:f,base:f,iframe:c,img:c,input:c,form:"action",link:f,script:c}),d=$[y],$.fn[u]=e(et,u),$.fn[r]=e(et,r),v.pushState=b=function(i,r){h(i)&&/^#/.test(i)&&r===t&&(r=2);var u=i!==t,e=s(n[p][f],u?i:{},u?r:2);n[p][f]=e+(/#/.test(e)?"":"#")},v.getState=k=function(n,i){return n===t||typeof n=="boolean"?a(n):a(i)[n]},v.removeState=function(n){var i={};n!==t&&(i=k(),$.each($.isArray(n)?n:arguments,function(n,t){delete i[t]})),b(i,2)},g[nt]=$.extend(g[nt],{add:function(n){function f(n){var f=n[r]=s();n.getState=function(n,r){return n===t||typeof n=="boolean"?i(f,n):i(f,r)[n]},u.apply(this,arguments)}var u;if($.isFunction(n))return u=n,f;u=n.handler,n.handler=f}})})(jQuery,this);
/*!
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,n,t){function f(t){return t=t||n[r][u],t.replace(/^[^#]*#?(.*)$/,"$1")}var e,o=$.event.special,r="location",i="hashchange",u="href",l=$.browser,s=document.documentMode,h=l.msie&&(s===t||s<8),c="on"+i in n&&!h;$[i+"Delay"]=100,o[i]=$.extend(o[i],{setup:function(){if(c)return!1;$(e.start)},teardown:function(){if(c)return!1;$(e.stop)}}),e=function(){function l(){e=c=function(n){return n},h&&(o=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,c=function(){return f(o.document[r][u])},e=function(n,t){if(n!==t){var i=o.document;i.open().close(),i[r].hash="#"+n}},e(f()))}var s={},t,o,e,c;return s.start=function(){if(!t){var o=f();e||l(),function s(){var l=f(),h=c(o);l!==o?(e(o=l,h),$(n).trigger(i)):h!==o&&(n[r][u]=n[r][u].replace(/#.*/,"")+"#"+h),t=setTimeout(s,$[i+"Delay"])}()}},s.stop=function(){o||(t&&clearTimeout(t),t=0)},s}()})(jQuery,this),function(n){"use strict";function t(t){if(PubSub.hasOwnProperty(t)&&typeof PubSub[t]=="function")return PubSub[t].apply(i,Array.prototype.slice.call(arguments,1));n.error("Method "+t+" does not exist on jQuery.pubsub")}var i=this;if(function(n,t){typeof exports=="object"?module.exports=t():typeof define=="function"&&define.amd?define(t):n.PubSub=t()}(typeof window=="object"&&window||this,function(){function f(n){return function(){throw n;}}function e(n,t,i){try{n(t,i)}catch(r){setTimeout(f(r),0)}}function o(n,t,i){n(t,i)}function i(t,i,r,u){var s=n[i],c=u?o:e,f,h;if(n.hasOwnProperty(i))for(f=0,h=s.length;f<h;f++)c(s[f].func,t,r)}function s(n,t,r){return function(){var u=String(n),f=u.lastIndexOf(".");for(i(n,n,t,r);f!==-1;)u=u.substr(0,f),f=u.lastIndexOf("."),i(n,u,t)}}function h(t){for(var i=String(t),r=n.hasOwnProperty(i),u=i.lastIndexOf(".");!r&&u!==-1;)i=i.substr(0,u),u=i.lastIndexOf("."),r=n.hasOwnProperty(i);return r}function r(n,t,i,r){var u=s(n,t,r),f=h(n);return f?(i===!0?u():setTimeout(u,0),!0):!1}var t={name:"PubSubJS",version:"1.3.4"},n={},u=-1;return t.publish=function(n,i){return r(n,i,!1,t.immediateExceptions)},t.publishSync=function(n,i){return r(n,i,!0,t.immediateExceptions)},t.subscribe=function(t,i){n.hasOwnProperty(t)||(n[t]=[]);var r=String(++u);return n[t].push({token:r,func:i}),r},t.unsubscribe=function(t){var u=typeof t=="string",e=u?"token":"func",o=u?t:!0,f=!1,i,r;for(i in n)if(n.hasOwnProperty(i))for(r=n[i].length-1;r>=0;r--)if(n[i][r][e]===t&&(n[i].splice(r,1),f=o,u))return f;return f},t}),n.pubsub)return n.error("pubsub is already defined on jQuery, skipping integration of PubSubJS"),!1;t.version=PubSub.name+" "+PubSub.version,n.pubsub=t}(jQuery),SCM=SCM||{},$(function(){SCM.ActionEnums=$.extend(!0,{MarcRecord:{GetCollectionFile:"GetCollectionFile",GetUserCollectionFile:"GetUserCollectionFile",DownloadFile:"DownloadFile",UserMarcDownload:"UserMarcDownload"},ArticleToolbox:{ArticleToolboxMain:"ArticleToolboxMain",ArticleToolboxCitation:"ArticleToolboxCitation"},Article:{ArticleTopInfo:"ArticleTopInfo",EditorInformation:"EditorInformation",OpenScienceBadges:"OpenScienceBadges",ArticleTopInfoCitationRaw:"ArticleTopInfoCitationRaw",ArticleTopLinks:"ArticleTopLinks",ArticleDataSupplements:"ArticleDataSupplements",ArticleJumpLinks:"ArticleJumpLinks",ArticleJumpLinksFlyout:"ArticleJumpLinksFlyout",ArticleNavLinks:"ArticleNavLinks",ArticleListNewAndPopularByMode:"ArticleListNewAndPopularByMode",ArticleListNewAndPopularCombinedView:"ArticleListNewAndPopularCombinedView",ArticleListNewAndPopularContent:"ArticleListNewAndPopularContent",ArticleListNewAndPopular:"ArticleListNewAndPopular",ArticleListGroups:"ArticleListGroups",ArticleListGroupsAccess:"ArticleListGroupsAccess",ArticleListGroupsSimple:"ArticleListGroupsSimple",ArticleListGroupsDetails:"ArticleListGroupsDetails",ArticleListMultiGroups:"ArticleListMultiGroups",ArticleListResources:"ArticleListResources",ArticleListResourcesSecondary:"ArticleListResourcesSecondary",ArticleListResourcesDetails:"ArticleListResourcesDetails",ArticleListResourcesIssue:"ArticleListResourcesIssue",ArticleFiguresAndTables:"ArticleFiguresAndTables",ArticleFulltext:"ArticleFulltext",FirstPagePreview:"FirstPagePreview",ArticleUrlsByDoi:"ArticleUrlsByDoi",ArticleAbstract:"ArticleAbstract",ArticleExtract:"ArticleExtract",ArticleAbstractAjax:"ArticleAbstractAjax",ArticleAbstractOrExtractAjax:"ArticleAbstractOrExtractAjax",AuthorInformation:"AuthorInformation",ArticleCitationDoi:"ArticleCitationDoi",ArticleListAccess:"ArticleListAccess",ArticleListAccessByIds:"ArticleListAccessByIds",ArticleMainView:"ArticleMainView",ArticleVisualAbstractSideView:"ArticleVisualAbstractSideView",GetCitation:"GetCitation"},Authorization:{BuyWithTokensLink:"BuyWithTokensLink",BuyWithTokensAction:"BuyWithTokensAction"},Book:{BookChapterMainView:"BookChapterMainView",TocChapterTopInfo:"TocChapterTopInfo",BookAbstract:"BookAbstract",BookAbstractDropdown:"BookAbstractDropdown",BookAbstractAjax:"BookAbstractAjax",ChapterAbstract:"ChapterAbstract",ChapterExtract:"ChapterExtract",ChapterAbstractHtml:"ChapterAbstractHtml",ChapterAbstractAjax:"ChapterAbstractAjax",ChapterAbstractOrExtractAjax:"ChapterAbstractOrExtractAjax",BookChapterMainViewBySection:"BookChapterMainViewBySection",ChapterListMostViewed:"ChapterListMostViewed",ChapterHeadings:"ChapterHeadings",ContentBrowseAllYearsManifest:"ContentBrowseAllYearsManifest",ContentBrowseByYearManifest:"ContentBrowseByYearManifest",BookTocSlim:"BookTocSlim",BookEditionNavigation:"BookEditionNavigation",ChapterVersionNavigation:"ChapterVersionNavigation"},Cases:{},Citation:{CitationDownloadManager:"CitationDownloadManager",CitationDownloadSelector:"CitationDownloadSelector",Download:"Download"},Cme:{CMEPocQuestionnaireBegin:"CMEPocQuestionnaireBegin",NextQuestionnaire:"NextQuestionnaire",ClaimCredits:"ClaimCredits",ShowClaimCreditsForCompletedQuestionnaires:"ShowClaimCreditsForCompletedQuestionnaires",PrintCertificate:"PrintCertificate",CmePocAvailableCredits:"CmePocAvailableCredits",CmePocAvailableCreditsDelete:"CmePocAvailableCreditsDelete",CmeClinicalQueryDelete:"CmeClinicalQueryDelete",CmeEarnedCredits:"CmeEarnedCredits",MyCmeCredits:"MyCmeCredits",GetMyCmeCredits:"GetMyCmeCredits",POCTest:"POCTest",Test:"Test",CmePocYearlySummary:"CmePocYearlySummary",TrackCmeCredits:"TrackCmeCredits",CmeTermsAndConditions:"CmeTermsAndConditions",AgreeTermsAndConditions:"AgreeTermsAndConditions",CmeShowWidget:"CmeShowWidget",CmeSessionSet:"CmeSessionSet",CmeSessionGet:"CmeSessionGet",CmeClinicalQuestions:"CmeClinicalQuestions",CmeClinicalQuestionsAdd:"CmeClinicalQuestionsAdd",CmeClinicalQuestionEdit:"CmeClinicalQuestionEdit",CmeClinicalQuestionSave:"CmeClinicalQuestionSave"},Collection:{Collections:"Collections",TopTopics:"TopTopics",RelatedTopics:"RelatedTopics",RelatedTags:"RelatedTags",RelatedTagsMetadata:"RelatedTagsMetadata",SpecialCollectionsBrowse:"SpecialCollectionsBrowse",SpecialCollection:"SpecialCollection"},ConferenceVolume:{ConferenceVolumeInfo:"ConferenceVolumeInfo",ConferenceVolumeInfoByVolumeId:"ConferenceVolumeInfoByVolumeId",ConferenceVolumeBrowse:"ConferenceVolumeBrowse",ConferenceVolumeSelector:"ConferenceVolumeSelector",ConferenceVolumeNavLinks:"ConferenceVolumeNavLinks",ConferenceVolumeLatestByYear:"ConferenceVolumeLatestByYear"},LatestContent:{LatestContentContainer:"LatestContentContainer"},DynamicWidgetLayout:{DynamicWidget:"DynamicWidget",DynamicWidgetTabbedView:"DynamicWidgetTabbedView",DynamicWidgetTabbedNavigation:"DynamicWidgetTabbedNavigation"},Gbos:{UpdatesByGbosContainers:"UpdatesByGbosContainers"},IssueVolume:{IssuesTwelveColumn:"IssuesTwelveColumn",IssueBrowseContent:"IssueBrowseContent",IssueBrowseCategoryOnly:"IssueBrowseCategoryOnly",Issue:"Issue",IssueSelector:"IssueSelector",IssueWithBrowseBy:"IssueWithBrowseBy",IssueCoverBrowse:"IssueCoverBrowse",IssueSupplements:"IssueSupplements",IssueNoCache:"IssueNoCache",IssueInfo:"IssueInfo",IssueBasicInfo:"IssueBasicInfo",CurrentIssueInfo:"CurrentIssueInfo",IssueTwoColumns:"IssueTwoColumns",IssueBrowseByYear:"IssueBrowseByYear",ContentBrowseAllYearsManifest:"ContentBrowseAllYearsManifest",ContentBrowseByYearManifest:"ContentBrowseByYearManifest",ChildCategories:"ChildCategories",AllIssuesLink:"AllIssuesLink",IssueSupplementalLinks:"IssueSupplementalLinks"},AsyncWidget:{WidgetLoader:"WidgetLoader"},Journal:{ImpactFactorSiteRanking:"ImpactFactorSiteRanking"},Multimedia:{MultimediaInfo:"MultimediaInfo",BrightcovePodcast:"BrightcovePodcast",FigureViewLarge:"FigureViewLarge",AffiliateLogos:"AffiliateLogos"},Page:{SitePageHeader:"SitePageHeader",SiteSearch:"SiteSearch",SitePageFooter:"SitePageFooter",SitePageFooterChinaVariance:"SitePageFooterChinaVariance",Article:"Article",ArticlesByGroup:"ArticlesByGroup",ArticleSplitView:"ArticleSplitView",Proceeding:"Proceeding",ConferenceVolume:"ConferenceVolume",Book:"Book",Chapter:"Chapter",ChapterStandard:"ChapterStandard",CrossRefCitingArticles:"CrossRefCitingArticles",Index:"Index",Issue:"Issue",IssueCovers:"IssueCovers",RedirectUnavailable:"RedirectUnavailable",SignInPage:"SignInPage",ViewLarge:"ViewLarge",SelfServePage:"SelfServePage",AdvancedSearch:"AdvancedSearch",SearchResults:"SearchResults",StyleGuide:"StyleGuide",ErrorDefault:"ErrorDefault",CustomError:"CustomError",Error:"Error",ForgotPassword:"ForgotPassword",MyAccount:"MyAccount",Register:"Register",ResetPassword:"ResetPassword",ContactUs:"ContactUs",TokenProductListPage:"TokenProductListPage",InstitutionalSignin:"InstitutionalSignin",ShibbolethSignin:"ShibbolethSignin",BookBrowseByYear:"BookBrowseByYear",IssueBrowseByYear:"IssueBrowseByYear",CitationDownloadManagerPage:"CitationDownloadManagerPage",ProceedingBrowseByYear:"ProceedingBrowseByYear",ConferenceBrowse:"ConferenceBrowse",ConferenceVolumeBrowse:"ConferenceVolumeBrowse",PodCastsPage:"PodCastsPage",ContinuingEducation:"ContinuingEducation",Favicons:"Favicons",SpecialCollectionsBrowse:"SpecialCollectionsBrowse",SpecialCollection:"SpecialCollection",KbartFileListPage:"KbartFileListPage"},Personalization:{UserContentAccessWrite:"UserContentAccessWrite",PersonalizedContent:"PersonalizedContent",PersonalizedTopics:"PersonalizedTopics"},Ecommerce:{PurchaseOptions:"PurchaseOptions"},Proceeding:{ProceedingMainView:"ProceedingMainView",ProceedingTopInfo:"ProceedingTopInfo",ProceedingNavLinks:"ProceedingNavLinks",ConferencesBrowseByYear:"ConferencesBrowseByYear",ConferenceListByYear:"ConferenceListByYear",ConferenceListByParentConference:"ConferenceListByParentConference",ConferenceVolumeListResources:"ConferenceVolumeListResources",ConferenceVolumeListResourcesManifest:"ConferenceVolumeListResourcesManifest"},Section:{SingleSection:"SingleSection",RelatedContent:"RelatedContent",EditorsChoice:"EditorsChoice",SectionsWithChildren:"SectionsWithChildren"},SignIn:{SocietyLinks:"SocietyLinks",LoginForm:"LoginForm",InstitutionSignIn:"InstitutionSignIn",LoginInstitutionalUser:"LoginInstitutionalUser",ExternalLogin:"ExternalLogin"},SolrContentQuery:{SolrContentQueryEdit:"SolrContentQueryEdit",SolrContentFilterQueryResults:"SolrContentFilterQueryResults",UpdateContentAssignmentRule:"UpdateContentAssignmentRule",SolrContentQueryValidationResults:"SolrContentQueryValidationResults"},Store:{CartProgressBar:"CartProgressBar",CartViewDetails:"CartViewDetails",CartOrderSummary:"CartOrderSummary",OrderConfirmation:"OrderConfirmation",DiscountCode:"DiscountCode",AddDiscountCode:"AddDiscountCode",RemoveDiscountCode:"RemoveDiscountCode"},TextDataMining:{TextDataMiningHomepage:"TextDataMiningHomepage",DownloadTdmFile:"DownloadTdmFile"},ThirdParty:{ArticleLevelMetrics:"ArticleLevelMetrics",ArticleLevelMetricsWithComments:"ArticleLevelMetricsWithComments",ArticleLevelMetricsDetails:"ArticleLevelMetricsDetails",ArticleLevelMetricsDetailsWithComments:"ArticleLevelMetricsDetailsWithComments",AltmetricLink:"AltmetricLink",InstitutionOpenUrlTemplate:"InstitutionOpenUrlTemplate",AstrophysicsDataSystem:"AstrophysicsDataSystem",Hypothesis:"Hypothesis",ArticleCitedBy:"ArticleCitedBy",BookChapterCitedBy:"BookChapterCitedBy",JobTarget:"JobTarget",ArticleDataRepositories:"ArticleDataRepositories",ArticleDataRepositoriesUsingDoi:"ArticleDataRepositoriesUsingDoi",CrossRefCitedBy:"CrossRefCitedBy",RelatedArticleIn:"RelatedArticleIn",ReCaptcha:"ReCaptcha",ValidateCaptcha:"ValidateCaptcha",GoogleMapsBoundingCoordinates:"GoogleMapsBoundingCoordinates",GdprCookieBanner:"GdprCookieBanner",TrendMD:"TrendMD",PodCasts:"PodCasts",LatestPodCast:"LatestPodCast",UniversalCasa:"UniversalCasa",ReadSpeaker:"ReadSpeaker",DimensionsBadge:"DimensionsBadge",KbartFileList:"KbartFileList",JobSearch:"JobSearch"},Toolbox:{ToolboxGetAlerts:"ToolboxGetAlerts",ToolboxGetAlertsNoJournalId:"ToolboxGetAlertsNoJournalId",ToolboxGetAlertsUpdateMessage:"ToolboxGetAlertsUpdateMessage",ToolboxCitationText:"ToolboxCitationText",ToolboxGetCitation:"ToolboxGetCitation",ToolboxGetCitationAnchor:"ToolboxGetCitationAnchor",ToolboxSendEmailAnchor:"ToolboxSendEmailAnchor",ToolboxSendEmailModal:"ToolboxSendEmailModal",ToolboxGetCitationModal:"ToolboxGetCitationModal",ToolboxGetCitationByResourceType:"ToolboxGetCitationByResourceType",ToolboxGetCitationModalByResourceType:"ToolboxGetCitationModalByResourceType",ToolboxPdf:"ToolboxPdf",ToolboxPdfByGuestAccess:"ToolboxPdfByGuestAccess",ToolboxReadcubePdf:"ToolboxReadcubePdf",ToolboxPermissions:"ToolboxPermissions",ToolboxPermissionsMultiple:"ToolboxPermissionsMultiple",ToolboxPermissionsWithSectionId:"ToolboxPermissionsWithSectionId",Alerts:"Alerts",AlertsSignUp:"AlertsSignUp",AddAlertsSignUp:"AddAlertsSignUp",AddAlertsSignUpWithSchedule:"AddAlertsSignUpWithSchedule",AddAlertsSignUpForTaxonomySearch:"AddAlertsSignUpForTaxonomySearch",EditAlertForTaxonomySearch:"EditAlertForTaxonomySearch"},UserDashboard:{GetMyBookmarks:"GetMyBookmarks",AddFavoritesList:"AddFavoritesList",AddFavorites:"AddFavorites",UpdateRecentlyViewed:"UpdateRecentlyViewed",UpdateFavorite:"UpdateFavorite",RemoveAllFavorites:"RemoveAllFavorites",MyFavorites:"MyFavorites",MyFavoritesPaged:"MyFavoritesPaged",RemoveFolder:"RemoveFolder",RemoveFolderItem:"RemoveFolderItem",RemoveFolderItemByResourceId:"RemoveFolderItemByResourceId",FolderActivitySort:"FolderActivitySort",AddNewFolderFavorites:"AddNewFolderFavorites",AddContentToFolderFavorites:"AddContentToFolderFavorites",MyFavoritesFolders:"MyFavoritesFolders",MyFolders:"MyFolders",MyFolderDetails:"MyFolderDetails",MyFolderHeader:"MyFolderHeader",IsFolderNameAvailable:"IsFolderNameAvailable",IsFolderReNameAvailable:"IsFolderReNameAvailable",DoesFolderContainResource:"DoesFolderContainResource",MyCaseHistory:"MyCaseHistory",ClearCaseHistory:"ClearCaseHistory",DeleteCaseHistoryItem:"DeleteCaseHistoryItem",MyCme:"MyCme",MySites:"MySites",MyCustomCurriculum:"MyCustomCurriculum",MySelfAssessments:"MySelfAssessments",HideQuizSelfAssessment:"HideQuizSelfAssessment",RenameLearnerTrackingDetailSelfAssessment:"RenameLearnerTrackingDetailSelfAssessment",MyPurchases:"MyPurchases",MyAccount:"MyAccount",RegisterUser:"RegisterUser",RegisterNewUser:"RegisterNewUser",RegisterGetCountryStates:"RegisterGetCountryStates",ForgotPassword:"ForgotPassword",ResetPassword:"ResetPassword",ShibbolethSignin:"ShibbolethSignin",GetInstitutionsForFederation:"GetInstitutionsForFederation",RedirectToShibboleth:"RedirectToShibboleth",ChangeEmailAddress:"ChangeEmailAddress",RequestEmailAddressChange:"RequestEmailAddressChange",MyTokens:"MyTokens",ViewRedeemCodeTab:"ViewRedeemCodeTab",RedeemCode:"RedeemCode"},Common:{DefaultUpdateTarget:"DefaultUpdateTarget",ShowSendEmail:"ShowSendEmail",SendEmail:"SendEmail",ForgotPassword:"ForgotPassword",ResetPassword:"ResetPassword",UserPracticeInfo:"UserPracticeInfo",PartialUserPracticeInfoView:"PartialUserPracticeInfoView",UserPracticeInfoEdit:"UserPracticeInfoEdit",ContactUs:"ContactUs",StyleGuide:"StyleGuide",StyleGuideContent:"StyleGuideContent",ContactUsForm:"ContactUsForm",TokenProductList:"TokenProductList",BreadCrumbs:"BreadCrumbs",PageMetadata:"PageMetadata",PageMetadataByMetadataType:"PageMetadataByMetadataType",AdobeAnalyticsUserMetadata:"AdobeAnalyticsUserMetadata",AdBlock:"AdBlock",AdBlockDynamic:"AdBlockDynamic",Lockss:"Lockss",SpecialOfferRedeem:"SpecialOfferRedeem",ValidateSpecialOffer:"ValidateSpecialOffer",RedeemSpecialOffer:"RedeemSpecialOffer",SelfServeCarousel:"SelfServeCarousel",SmartSelfServeContent:"SmartSelfServeContent"},Content:{RelatedPubMed:"RelatedPubMed",ThirdPartyLink:"ThirdPartyLink",RedirectToAspx:"RedirectToAspx",SelfServeContent:"SelfServeContent",SelfServeHeadContent:"SelfServeHeadContent",SelfServeContentNavigationMenu:"SelfServeContentNavigationMenu",SelfServeContentByResource:"SelfServeContentByResource",PatientHandoutEmail:"PatientHandoutEmail",DownloadHandout:"DownloadHandout",StructuredMarkup:"StructuredMarkup",RssFeeds:"RssFeeds",SplitView:"SplitView",ArticleXmlMetatag:"ArticleXmlMetatag",DataSupplements:"DataSupplements",AvailabilityIconsLegend:"AvailabilityIconsLegend",RssFeed:"RssFeed",CopyrightStatement:"CopyrightStatement",ChapterVersionInformation:"ChapterVersionInformation",ArticleIcon:"ArticleIcon",ArticleListByYear:"ArticleListByYear",ArticleListByYearMonthCategory:"ArticleListByYearMonthCategory",ArticleListOfClientTypes:"ArticleListOfClientTypes",ArticleListOfClientTypesAndJournals:"ArticleListOfClientTypesAndJournals",ArticleLinks:"ArticleLinks",ArticleLinksSeeAlso:"ArticleLinksSeeAlso",ArticleLinksAbstract:"ArticleLinksAbstract",ArticleBreadCrumbs:"ArticleBreadCrumbs",CitingArticles:"CitingArticles",SectionDisplay:"SectionDisplay",BookSectionsText:"BookSectionsText",SectionsTextByGroup:"SectionsTextByGroup",SeeAlso:"SeeAlso",RelatedBookContent:"RelatedBookContent",RelatedBookContentGbos:"RelatedBookContentGbos",RelatedContentSolr:"RelatedContentSolr",BookToc:"BookToc",GoToBookPage:"GoToBookPage",ChapterTopInfo:"ChapterTopInfo",AtoZBrowse:"AtoZBrowse",AtoZBrowseByCategory:"AtoZBrowseByCategory",BookChapterNavigation:"BookChapterNavigation",BookJumpLinks:"BookJumpLinks",BooksListing:"BooksListing",BooksByCategoryListing:"BooksByCategoryListing",BookInfo:"BookInfo",BookBasicInfo:"BookBasicInfo",BookBasicNavLinks:"BookBasicNavLinks",BookBasicBreadCrumbs:"BookBasicBreadCrumbs",BookSubjectListing:"BookSubjectListing",BooksListManifestByClient:"BooksListManifestByClient",RotatingFeaturedImage:"RotatingFeaturedImage",MultimediaBrowse:"MultimediaBrowse",MultimediaBrowseItemsByYearAndMultimediaLinkType:"MultimediaBrowseItemsByYearAndMultimediaLinkType",MultimediaPlayer:"MultimediaPlayer",MultimediaByGroupAndCategory:"MultimediaByGroupAndCategory",RelatedMultimedia:"RelatedMultimedia",MultimediaBrowseByGroupOrCategory:"MultimediaBrowseByGroupOrCategory",ImageLinks:"ImageLinks",IssuesAndVolumesListManifest:"IssuesAndVolumesListManifest",Issues:"Issues",GbosUpdate:"GbosUpdate",GbosBreadCrumbs:"GbosBreadCrumbs",GbosByGbosTypeAndContainer:"GbosByGbosTypeAndContainer",GbosFulltext:"GbosFulltext",GbosInfo:"GbosInfo",GbosJumpLinks:"GbosJumpLinks",GbosToc:"GbosToc",GbosContainerBrowse:"GbosContainerBrowse",GbosListCategory:"GbosListCategory",PatientHandOut:"PatientHandOut",RelatedGbosContent:"RelatedGbosContent",AtoZIndex:"AtoZIndex",MyProfile:"MyProfile",EditUserProfile:"EditUserProfile",UpdateUserProfile:"UpdateUserProfile",UserProfileGetStates:"UserProfileGetStates",MySubscriptions:"MySubscriptions",SubscriptionsAndDownloads:"SubscriptionsAndDownloads",MyEmailAlerts:"MyEmailAlerts",MyTokens:"MyTokens",MyAlerts:"MyAlerts",UserCommentBody:"UserCommentBody",UserComment:"UserComment",SubmitUserComment:"SubmitUserComment",CaseBrowse:"CaseBrowse",CaseContent:"CaseContent",CaseTabbed:"CaseTabbed",CaseComplete:"CaseComplete",CaseTOC:"CaseTOC",CheckPdfAccess:"CheckPdfAccess",CheckBookPdfAccess:"CheckBookPdfAccess",CheckBookChapterPdfAccess:"CheckBookChapterPdfAccess",CheckGbosPdfAccess:"CheckGbosPdfAccess",CheckIssuePdfAccess:"CheckIssuePdfAccess",BuyThisResourceLink:"BuyThisResourceLink",BuyThisResourceInExternalStore:"BuyThisResourceInExternalStore",ToolboxSendEmail:"ToolboxSendEmail"},PatternTests:{TestCollectionMule:"TestCollectionMule",TestAlgorithmMule:"TestAlgorithmMule",TestXSLTMule:"TestXSLTMule"},Demo:{TestDemo:"TestDemo",PopularArticles:"PopularArticles",TestWidget:"TestWidget",ForkDemo:"ForkDemo",CategoryArticles:"CategoryArticles",FirstWidget:"FirstWidget",WidgetUserComment:"WidgetUserComment",TestDemo2:"TestDemo2",TestDemo3:"TestDemo3",FileFinder:"FileFinder",ThrowAnError:"ThrowAnError",LocalizationDemo:"LocalizationDemo"},Sol:{SolQuestionAddtoTest:"SolQuestionAddtoTest",SolQuestionAddtoTestSave:"SolQuestionAddtoTestSave",SolQuestionAnswerList:"SolQuestionAnswerList",SolQuestionBank:"SolQuestionBank",SolQuestionListSort:"SolQuestionListSort",SolQuestionSort:"SolQuestionSort",SolQuiz:"SolQuiz",SolQuizActivityAdd:"SolQuizActivityAdd",SolQuizActivityAddEdit:"SolQuizActivityAddEdit",SolQuizActivityEdit:"SolQuizActivityEdit",SolQuizAdd:"SolQuizAdd",SolQuizAddEdit:"SolQuizAddEdit",SolQuizArchive:"SolQuizArchive",SolQuizCopy:"SolQuizCopy",SolQuizDelete:"SolQuizDelete",SolQuizEdit:"SolQuizEdit",SolQuizList:"SolQuizList",SolQuizReactivate:"SolQuizReactivate",SolQuizSort:"SolQuizSort",SolReadingActivityAdd:"SolReadingActivityAdd",SolReadingActivityAddEdit:"SolReadingActivityAddEdit",SolReadingActivityEdit:"SolReadingActivityEdit",SolUserProfile:"SolUserProfile",LearningModulesBreadCrumb:"LearningModulesBreadCrumb",SolViewQuestion:"SolViewQuestion",TakeFullQuizBySection:"TakeFullQuizBySection",TakeMultipleFullQuizBySection:"TakeMultipleFullQuizBySection",SolFullQuizList:"SolFullQuizList",SollearnerTrackingDetailArchive:"SollearnerTrackingDetailArchive",TakeFullQuizSubmitAnswers:"TakeFullQuizSubmitAnswers",TakeMultipleFullQuizSubmitAnswers:"TakeMultipleFullQuizSubmitAnswers",TakeQuizOneByOne:"TakeQuizOneByOne",TakeQuizOneByOneBySection:"TakeQuizOneByOneBySection",LearnerTakeQuizByQuizId:"LearnerTakeQuizByQuizId",TakeQuizOneByOneCancelQuiz:"TakeQuizOneByOneCancelQuiz",TakeQuizOneByOneCompleteQuiz:"TakeQuizOneByOneCompleteQuiz",TakeQuizOneByOneSubmit:"TakeQuizOneByOneSubmit",TakeQuizOneByOneSubmitAndShowAnswer:"TakeQuizOneByOneSubmitAndShowAnswer",TakeQuizOneByOneSubmitLastQuestion:"TakeQuizOneByOneSubmitLastQuestion",TakeQuizOneByOneSkip:"TakeQuizOneByOneSkip",ProgressiveQuizBySection:"ProgressiveQuizBySection",ProgressiveQuizCancelQuiz:"ProgressiveQuizCancelQuiz",ProgressiveQuizCompleteQuiz:"ProgressiveQuizCompleteQuiz",ProgressiveQuizSubmit:"ProgressiveQuizSubmit",ProgressiveQuizSubmitAndShowAnswer:"ProgressiveQuizSubmitAndShowAnswer",ProgressiveQuizSubmitLastQuestion:"ProgressiveQuizSubmitLastQuestion",ProgressiveQuizSkip:"ProgressiveQuizSkip",SolLearnerAssignment:"SolLearnerAssignment",SolLearnerTakeTest:"SolLearnerTakeTest",SolLearnerAssignmentBeforeSubmit:"SolLearnerAssignmentBeforeSubmit",SolLearnerAssignmentSubmit:"SolLearnerAssignmentSubmit",SolLearnerAssignmentUpdateStatus:"SolLearnerAssignmentUpdateStatus",SolLearnerOtherActivityGet:"SolLearnerOtherActivityGet",SolLearnerOtherActivityUpdate:"SolLearnerOtherActivityUpdate",SolReports:"SolReports",SolReportsDetails:"SolReportsDetails",SolReportsDetailsSort:"SolReportsDetailsSort",ReportDetailsToExcel:"ReportDetailsToExcel",SolLearnerAddToExistingGroup:"SolLearnerAddToExistingGroup",SolLearnerSAddToExistingGroup:"SolLearnerSAddToExistingGroup",SolLearnerAddToExistingGroupSave:"SolLearnerAddToExistingGroupSave",SolLearnerAddToExistingGroupSaveByIds:"SolLearnerAddToExistingGroupSaveByIds",SolQuestionAdd:"SolQuestionAdd",SolQuestionAddEdit:"SolQuestionAddEdit",SolQuestionAddEditNextStep:"SolQuestionAddEditNextStep",SolQuestionAddEditPreviousStep:"SolQuestionAddEditPreviousStep",SolQuestionAddEditRemoveUploadFile:"SolQuestionAddEditRemoveUploadFile",SolQuestionAddEditShowStep:"SolQuestionAddEditShowStep",SolQuestionAddEditUploadFile:"SolQuestionAddEditUploadFile",SolQuestionBankDeleteQuestion:"SolQuestionBankDeleteQuestion",SolQuestionDelete:"SolQuestionDelete",SolQuestionEdit:"SolQuestionEdit",CurriculaGroupList:"CurriculaGroupList",AssignmentLearnerDetailsList:"AssignmentLearnerDetailsList",AssignmentList:"AssignmentList",BuildAutoGenQuiz:"BuildAutoGenQuiz",BuildAutoGenQuizByResourceId:"BuildAutoGenQuizByResourceId",BuildResourceQuiz:"BuildResourceQuiz",BuildAllQuizForResource:"BuildAllQuizForResource",BuildLongResourceQuiz:"BuildLongResourceQuiz",RetakeQuiz:"RetakeQuiz",ChooseSiteSpecificQuizQuestion:"ChooseSiteSpecificQuizQuestion",CopyCourse:"CopyCourse",IsCourseNameAvailable:"IsCourseNameAvailable",LearnerInstructorViewToggler:"LearnerInstructorViewToggler",IsCurriculumNameAvailable:"IsCurriculumNameAvailable",IsLearnerGroupNameAvailable:"IsLearnerGroupNameAvailable",IsNewCurriculumNameAvailable:"IsNewCurriculumNameAvailable",IsQuizNameAvailable:"IsQuizNameAvailable",IsValidAccessActivityUrl:"IsValidAccessActivityUrl",LearnerAssignments:"LearnerAssignments",QuizResults:"QuizResults",ResourceQuizzes:"ResourceQuizzes",SaveQuizQuestions:"SaveQuizQuestions",SelectQuestionsBySite:"SelectQuestionsBySite",SelectResourceBySiteId:"SelectResourceBySiteId",SolActivityAdd:"SolActivityAdd",SolLearnerUploadedFiles:"SolLearnerUploadedFiles",SolLearnerDeleteUploadedFiles:"SolLearnerDeleteUploadedFiles",SolActivityAddEdit:"SolActivityAddEdit",SolActivityEdit:"SolActivityEdit",SolAssignmentAdd:"SolAssignmentAdd",SolAssignmentAddLearningModule:"SolAssignmentAddLearningModule",SolAssignmentEdit:"SolAssignmentEdit",IsAssignmentAvailable:"IsAssignmentAvailable",SolAssignmentAddEdit:"SolAssignmentAddEdit",SolAssignmentSort:"SolAssignmentSort",SolLearnerDetailsSort:"SolLearnerDetailsSort",SolAssignmentChangeStatus:"SolAssignmentChangeStatus",SolBrowseLearnerFilter:"SolBrowseLearnerFilter",SolBrowseLearnerSort:"SolBrowseLearnerSort",SolBrowseLearnerSubmit:"SolBrowseLearnerSubmit",SolBrowseLearners:"SolBrowseLearners",SolContentClipper:"SolContentClipper",SolSharedCourseList:"SolSharedCourseList",SolSharedCourseDelete:"SolSharedCourseDelete",SolCourse:"SolCourse",SolCourseActivityDelete:"SolCourseActivityDelete",SolCourseActivitySort:"SolCourseActivitySort",SolCourseAdd:"SolCourseAdd",SolCourseAddEdit:"SolCourseAddEdit",SolCourseEdit:"SolCourseEdit",SolCourseList:"SolCourseList",SolCourseListSort:"SolCourseListSort",SolCourseArchive:"SolCourseArchive",SolCourseDelete:"SolCourseDelete",SolCourseReactivate:"SolCourseReactivate",SolCoursePreview:"SolCoursePreview",SolCurriculaList:"SolCurriculaList",SolCurriculaListSort:"SolCurriculaListSort",SolCurriculaDelete:"SolCurriculaDelete",SolCurriculumAddEdit:"SolCurriculumAddEdit",SolCurriculumEdit:"SolCurriculumEdit",SolInstitutionSiteList:"SolInstitutionSiteList",SolInstructorNavigation:"SolInstructorNavigation",SolLearnerGroupAdd:"SolLearnerGroupAdd",SolLearnerGroupAddEdit:"SolLearnerGroupAddEdit",SolLearnerGroupDeactivate:"SolLearnerGroupDeactivate",SolLearnerGroupDelete:"SolLearnerGroupDelete",SolLearnerGroupEdit:"SolLearnerGroupEdit",SolLearnerGroupList:"SolLearnerGroupList",SolLearnerGroupManageUsers:"SolLearnerGroupManageUsers",SolLearnerGroupReactivate:"SolLearnerGroupReactivate",SolLearnerGroupUserAdd:"SolLearnerGroupUserAdd",SolLearnerGroupUserFilter:"SolLearnerGroupUserFilter",SolLearnerGroupUserRemove:"SolLearnerGroupUserRemove",SolLearnerGroupUserSort:"SolLearnerGroupUserSort",SolLearnerGroupViewUsers:"SolLearnerGroupViewUsers",SolLearnerStatus:"SolLearnerStatus",SolMakeActivityRequired:"SolMakeActivityRequired",SolShareCourse:"SolShareCourse",SolPreviewQuestion:"SolPreviewQuestion",SolQuestion:"SolQuestion"},Solr:{ArticleBrowseSearchResults:"ArticleBrowseSearchResults",AuthorSearchSubmit:"AuthorSearchSubmit",BucketedSearch:"BucketedSearch",BucketedSearchBucket:"BucketedSearchBucket",BucketedSearchResults:"BucketedSearchResults",BucketedSearchSubmit:"BucketedSearchSubmit",DoiExists:"DoiExists",DoiSearch:"DoiSearch",DoiSearchUnifiedCore:"DoiSearchUnifiedCore",SearchResultsWithHighlights:"SearchResultsWithHighlights",SolrAdvancedFeatureSearch:"SolrAdvancedFeatureSearch",SolrAdvancedSearch:"SolrAdvancedSearch",SolrAdvancedSearchResponsive:"SolrAdvancedSearchResponsive",SolrAdvancedSearchResponsiveTwelve:"SolrAdvancedSearchResponsiveTwelve",SolrAutoSuggest:"SolrAutoSuggest",SolrJournalAutoSuggest:"SolrJournalAutoSuggest",SolrSearch:"SolrSearch",SolrCustomSearch:"SolrCustomSearch",SolrSearchPreFilter:"SolrSearchPreFilter",TextbookContentSearch:"TextbookContentSearch",SolrSearch_JustResults:"SolrSearch_JustResults",SolrSearchAction:"SolrSearchAction",SolrSearchAutoSuggest:"SolrSearchAutoSuggest",PaperNumberSearch:"PaperNumberSearch",SolrSearchResults:"SolrSearchResults",SolrSearchResults_Wkhl:"SolrSearchResults_Wkhl",GetSearchAlertViewModel:"GetSearchAlertViewModel",SolrTopics:"SolrTopics",SelectableContentList:"SelectableContentList",MultiQuerySelectableContentList:"MultiQuerySelectableContentList",SolrSearchSave:"SolrSearchSave",SaveSolrSearchInfo:"SaveSolrSearchInfo",SaveSolrSearchInfoWithToken:"SaveSolrSearchInfoWithToken",RenameSolrSearchInfo:"RenameSolrSearchInfo",RenameSolrSearchInfoWithToken:"RenameSolrSearchInfoWithToken",DeleteSolrSearchInfo:"DeleteSolrSearchInfo",DeleteSolrSearchInfoWithToken:"DeleteSolrSearchInfoWithToken",UpdateUserAlertWithToken:"UpdateUserAlertWithToken",UpdateUserAlert:"UpdateUserAlert",SolrResourceMetadata:"SolrResourceMetadata",GetContentMetadata:"GetContentMetadata",JournalCitationFilter:"JournalCitationFilter"}},SCM.ActionEnums)}),SCM=SCM||{},SCM.UploadImage_Complete=function(n){var i=$.extend({targetSelector:"#UploadTarget",jsonResultSelector:"#jsonResult",replacementContainerSelector:"#id"},n),u=$(i.targetSelector).contents().find(i.jsonResultSelector),t,r;u.length===1&&(t=$.parseJSON(u.html()),$("[data-valmsg-for]").attr("class","field-validation-valid").html(""),t.Success?i.success&&i.success():t.Messages.length>0?(r="Error \n",t.Messages.forEach(function(n){r+=n+"\n"}),alert(r)):t.Html?$(i.replacementContainerSelector).replaceWith(t.Html.replace(/{{/g,"&quot;")):t.ValidationErrors.forEach(function(n){var t=$("[data-valmsg-for="+n.Key+"]");t.addClass("field-validation-error").removeClass("field-validation-valid"),n.Errors.forEach(function(n){t.html(t.html()+n+"<br />")})}))},SCM.AjaxHelperSuccessCallback=function(n,t,i){n.RedirectUrl&&n.RedirectUrl.length>0?window.location=n.RedirectUrl:n.Html&&n.Html.length>0?t.replaceWith(n.Html):n.Success?i():t.replaceWith(n)},SCM.AjaxHelperErrorCallback=function(n,t,i){n.RedirectUrl&&n.RedirectUrl.length>0?window.location=n.RedirectUrl:n.Html&&n.Html.length>0?t.replaceWith(n.Html):n.Success?i():t.replaceWith(n)},SCM.showModal=function(){var n=[];typeof tinyMCE!="undefined"&&tinyMCE.editors.forEach(function(t){$("#divDefaultUpdateTarget").find("#"+t.editorContainer).each(function(){n.push(t.id)})}),$.fancybox({autosize:!0,autoScale:!1,title:"",href:"#divDefaultUpdateTarget"}),typeof tinyMCE!="undefined"&&n.forEach(function(n){$("#"+n).scmTinyMCE()})},SCM.hideModal=function(){$.fancybox.close()},SCM.refreshModal=function(){$.fancybox.update()},function(){function i(n,t){var i=new Date(t),r=new Date(n);return i.getFullYear()==r.getFullYear()&&i.getMonth()==r.getMonth()&&i.getDate()==r.getDate()?!1:i>r?!0:!1}function r(n){return n.substr(0,n.lastIndexOf(".")+1)}function t(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}var n=$("body");$(document).ajaxError(function(t,i){var r,u;if(n.removeClass("wait"),i.responseText)try{r=$.parseJSON(i.responseText),r.Success==null||r.Success||(u="There was an error processing the request \n",r.Messages.forEach(function(n){u+=n+"\n"}),alert(u))}catch(f){console.log("Ajax error occured, responseText is not json: "+f.message)}}),$.validator.addMethod("isDateGreaterThan",function(n,t,r){return i($(t).val(),r)==!0?!1:!0},""),$(document).ajaxStart(function(){n.addClass("wait")}).ajaxStop(function(){n.removeClass("wait")});n.on("keypress","[data-default-button]",function(n){if(n.which==13)return $("#"+$(this).data("defaultButton")).click(),!1});$.validator.unobtrusive.adapters.add("dynamicrange",["minvalueproperty","maxvalueproperty"],function(n){n.rules.dynamicrange=n.params,n.message!=null&&($.validator.messages.dynamicrange=n.message)}),$.validator.addMethod("dynamicrange",function(n,i,u){var s=r(i.name),f=parseInt($('input[name="'+t(u.minvalueproperty,s)+'"]').val(),10),e=parseInt($('input[name="'+t(u.maxvalueproperty,s)+'"]').val(),10),o=parseInt(n,10);return isNaN(f)||isNaN(e)||isNaN(o)||f>o||o>e?($.validator.messages.dynamicrange=$.format($(i).attr("data-val-dynamicrange"),f,e),!1):!0},"")}(),function(n){n.fn.radiobuttonEnable=function(){return this.each(function(){var t=n(this);t.find("*[data-rb-enable-name]").each(function(){var r=n(this),u=t.find('input:radio[name="'+r.data("rbEnableName")+'"]:checked'),i;u.length>0&&(i=r.data("rbEnableValue"),i!=null&&u.val().toString().toLowerCase()!=i.toString().toLowerCase()&&r.attr("disabled","disabled"),i=r.data("rbMakeVisibleValue"),i!=null&&u.val().toString().toLowerCase()!=i.toString().toLowerCase()&&r.hide())});t.find("input:radio").on("change",function(){var t=n(this),i='[data-rb-enable-name="'+t.attr("name")+'"]',r=n(i);r.each(function(){var i=n(this),u=tinymce.editors[i[0].id],r=i.data("rbEnableValue");r!=null&&(r.toString().toLowerCase()==t.val().toLowerCase()?(i.removeAttr("disabled"),u&&u.getBody().setAttribute("contenteditable",!0)):(i.attr("disabled","disabled"),u&&u.getBody().setAttribute("contenteditable",!1))),r=i.data("rbMakeVisibleValue"),r!=null&&(r.toString().toLowerCase()==t.val().toLowerCase()&&!i.is(":visible")||r.toString().toLowerCase()!=t.val().toLowerCase()&&i.is(":visible"))&&i.fadeToggle()})})})},n.fn.configureSCMForm=function(t){var i=n.extend({cancelButtonSelector:".cancel",submitButtonSelector:".submit",nextQuestionButtonSelector:".nextQuestion",skipButtonSelector:".skip",validatorIgnores:":disabled, input[type='hidden']",nextQuestion:null,cancel:null,skip:null,validateOnSubmit:null,validateOnKeyUp:!1},t);return this.each(function(){var t=n(this),r;jQuery.validator.unobtrusive.parse("#"+this.id),t.validate(),r=n.data(t[0],"validator").settings,r.ignore=i.validatorIgnores,i.validateOnKeyUp===!0&&(i.validateOnKeyUp=null),r.onkeyup=i.validateOnKeyUp,r.onsubmit=i.validateOnSubmit;t.find(i.submitButtonSelector).off("click.configureSCMForm").on("click.configureSCMForm",function(n){n.preventDefault(),t.valid()&&t.trigger("submit")});t.find(i.nextQuestionButtonSelector).off("click.configureSCMForm").on("click.configureSCMForm",function(n){n.preventDefault(),i.nextQuestion()});t.find(i.skipButtonSelector).off("click.configureSCMForm").on("click.configureSCMForm",function(n){n.preventDefault(),i.skip()});t.find(i.cancelButtonSelector).off("click.configureSCMForm").on("click.configureSCMForm",function(n){n.preventDefault(),i.cancel?i.cancel():(t.hide(),SCM.hideModal())})})},n.fn.viewMore=function(t){var i=n.extend({hiddenSelector:".read-more",readMoreButtonSelector:"#readMore",readMoreText:"Read More",readLessText:"Read Less"},t);return this.each(function(){var t=n(i.hiddenSelector);t.hide();n(i.readMoreButtonSelector).on("click",function(n){n.preventDefault(),t.fadeToggle()})})},n.fn.scmTinyMCE=function(){return n(".mceOpen.mce_forecolor").show(),n(".mce_forecolor .mceLast .mceIconOnly").show(),n(".mceOpen.mce_backcolor").show(),n(".mceOpen.mce_backcolor .mceIconOnly").show(),this.each(function(){n(this).tinymce({gecko_spellcheck:!0,theme:"advanced",theme_advanced_buttons1:"bold,italic,underline,|,bullist,numlist,|,sub,sup,|,charmap,|,forecolor,backcolor,|,link",theme_advanced_buttons2:"",theme_advanced_buttons3:"",plugins:"inlinepopups",theme_advanced_statusbar_location:null,oninit:function(t){var i=n("#"+t.editorId+"[data-rb-enable-name]"),u=n('input:radio[name="'+i.data("rbEnableName")+'"]'),r;u.length>0&&u.val().toString().toLowerCase()!=i.data("rbEnableValue").toString().toLowerCase()&&(i.attr("disabled","disabled"),r=tinymce.editors[i[0].id],r&&r.getBody().setAttribute("contenteditable",!1))}})})},n.fn.scmTimer=function(t){return this.each(function(){var r=n(this),i=n.extend({h:0,m:0,s:0,hs:0,stop:!1,milliseconds:150,intervalCheck:null},t);if(i.stop){clearInterval(r.data("scmTimerToken"));return}var u=function(n){return n<10&&(n="0"+n),n},f=(new Date).getTime(),e=function(){r.text(u(i.h)+":"+u(i.m)+":"+u(i.s)+":"+u(i.hs))};e(),r.data("scmTimerToken",setInterval(function(){if(!r.is(":visible")){clearInterval(r.data("scmTimerToken"));return}var n=(new Date).getTime(),t=n-f;if(i.hs+=Math.floor(t/10),f=n,i.hs>=100&&(i.s+=Math.floor(i.hs/100),i.hs=i.hs%100,i.s>=60&&(i.m+=Math.floor(i.s/60),i.s=i.s%60),i.m>=60&&(i.h+=Math.floor(i.m/60),i.m=i.m%60)),e(),i.intervalCheck&&!i.intervalCheck(i)){clearInterval(r.data("scmTimerToken"));return}},i.milliseconds))})},n.fn.wkTimer=function(t){return this.each(function(){var r=n(this),i=n.extend({h:0,m:0,s:0,hs:0,stop:!1,milliseconds:150,intervalCheck:null},t);if(i.stop){clearInterval(r.data("wkTimerToken"));return}var u=function(n){return n<10&&(n="0"+n),n},f=(new Date).getTime(),e=function(){r.text(u(i.m)+":"+u(i.s))};e(),r.data("wkTimerToken",setInterval(function(){if(!r.is(":visible")){clearInterval(r.data("wkTimerToken"));return}var n=(new Date).getTime(),t=n-f;if(i.hs+=Math.floor(t/10),f=n,i.hs>=100&&(i.s+=Math.floor(i.hs/100),i.hs=i.hs%100,i.s>=60&&(i.m+=Math.floor(i.s/60),i.s=i.s%60),i.m>=60&&(i.h+=Math.floor(i.m/60),i.m=i.m%60)),e(),i.intervalCheck&&!i.intervalCheck(i)){clearInterval(r.data("wkTimerToken"));return}},i.milliseconds))})}}(jQuery),SCM=SCM||{},SCM.__namespace=!0,SCM.eventManager=function(n){var o=function(t,i){var r=n.extend({refreshWhenInvisible:!1,messageContainerSelector:"#divMessage"},i),f="",e=function(t){if(!r.refreshIf||r.refreshIf(t)){var i=n(r.containerSelector);(r.refreshWhenInvisible||i.is(":visible"))&&n.ajax({type:"POST",url:r.url,data:r.data,dataType:"html",success:function(u){n.pubsub("unsubscribe",f),i.replaceWith(u).show(),r.refreshSuccess&&r.refreshSuccess(t)}})}};f=u(t,e)},t=function(t,i){return n.pubsub("subscribe",t,i)},i=function(t,i){n.pubsub("publish",t,i)},r="actionCompleted",s=function(t,u){var f=n.extend({actionEnum:t},u);i(r,f)},u=function(n,i){return t(r,function(t,r){n===r.actionEnum&&i(r)})},f="actionCompleteactionRequest",h=function(n,t){return i(f,{actionEnum:n,data:t})},e=function(n,i){return t(f,function(t,r){n===r.actionEnum&&i(r.data)})},c=function(t,i){return e(t,function(t){var r=n.extend({type:"POST"},t);n.ajax({type:r.type,url:r.url,data:r.data,dataType:"html",success:function(t){n(i).html(t).show()},error:function(n){alert(n)}}),SCM.hideModal()})};return{subscribeWidgetRefresh:o,subscribe:t,publish:i,publishActionCompleted:s,subscribeActionCompleted:u,publishActionRequest:h,subscribeActionRequest:e,subscribeActionRequestDisplayResult:c}}(jQuery),SCM.eventManager.subscriptionMessages={playVideo:"SCM.PlayVideo"},SCM=SCM||{},function(n,t){var r="GDPR_",u="1050",f="0",e="Cookie Acceptance",i="";n.getGdprCookie=function(n){for(var r=n+"=",u=document.cookie.split(";"),i,t=0;t<u.length;t++)if(i=u[t].trim(),i.indexOf(r)===0)return i.substring(r.length,i.length);return""},n.createGdprCookie=function(t,i,r){var o=n.getCookieName(),f,u;r?(u=new Date,u.setTime(u.getTime()+r*864e5),f="; expires="+u.toGMTString()):f="";var s=o+"="+encodeURIComponent(i)+f+"; path=/",e=n.getCookieDomain(),h=null;e&&(document.cookie=s+";domain="+e,h=n.getGdprCookie(o)),e&&h||(document.cookie=s)},n.getCookieName=function(){if(i)return i;var f=t("#hdnClientIdGdpr").val(),e=n.getCookieDomain(),u=r;return f&&(u=u+f+"_"),e&&(u=u+e),u},n.getCookieDomain=function(){return t("#hdnDomainGdpr").val()},n.hideGdprBanner=function(){var i=t(".gdpr-cookie-wrapper"),r,u;if(!navigator.cookieEnabled){i.hide();return}r=n.getCookieName(),u=n.getGdprCookie(r),u&&i.hide()},n.gdprAcceptLinkClick=function(){t(".js-gdpr-cookie-acceptLink, .js-gdpr-cookie-close").on("click",function(){n.createGdprCookie(r,!0,365),n.hideGdprBanner(),SCM.ClientStatsMaster&&SCM.ClientStatsMaster.trackGdprCookieAcceptance&&SCM.ClientStatsMaster.trackGdprCookieAcceptance(u,f,e)})},n.init=function(r){r&&(i=r),t(".gdpr-cookie-wrapper").show(),n.gdprAcceptLinkClick(),n.hideGdprBanner()}}(SCM.gdprCookieBanner=SCM.gdprCookieBanner||{},jQuery),IssueToolboxPdf={},ArticleToolboxPdf={},IssueToolboxPdf.VerifyPdfUrl=function(n){var t=n.attr("data-issue-id"),i=n.attr("data-issue-url"),r=n.attr("data-ajax-issue-url");$.ajax({type:"POST",url:r,data:{issueId:t},traditional:!0,success:function(t){t.Success==!0?window.location.href=i:(n.attr({"data-reveal-id":"SignInModal","data-reveal":""}).removeAttr("data-ajax-url"),$("#SignInModal").foundation("reveal","open"))},error:function(n,t){if(window.console){var i=eval("("+n.responseText+")");console.log("error: "+i),console.log("status: "+t)}}})},ArticleToolboxPdf.VerifyPdfUrl=function(n){var t=n.attr("data-article-id"),i=n.attr("data-article-url"),r=n.attr("data-ajax-url"),u=$("#hfARVOStoreUrl").val();$.ajax({type:"POST",url:r,data:{aId:t},traditional:!0,success:function(r){if(r.Success==!0)window.location="/pdfaccess.ashx?url="+i;else{var f="https://"+u+"/productDetails.aspx?resourceID="+t+"&resourceTypeID=3";n.attr({"data-reveal-id":"SignInModal","data-reveal":""}).removeAttr("data-ajax-url"),$("#SignInModal").find("#lnkPPV").attr("href",f),$("#SignInModal").foundation("reveal","open")}},error:function(n,t){if(window.console){var i=eval("("+n.responseText+")");console.log("error: "+i),console.log("status: "+t)}}})},$(window).load(function(){$("#NoAccessReveal").find(".purchase-pdf-link").hide();$(document).on("click",".close-reveal-modal",function(){$("#SignInModal").find(".subscribe-box").hide(),$(this).parents(".reveal-modal").foundation("reveal","close")});$(document).on("click",".al-link.issue-pdfLink",function(){IssueToolboxPdf.VerifyPdfUrl($(this))});$(document).on("click",".al-link.pdfaccess",function(){$("#SignInModal").find(".subscribe-box").show(),ArticleToolboxPdf.VerifyPdfUrl($(this))});$(document).on("click",".purchase-pdf-link",function(){$(this).parents(".reveal-modal").foundation("reveal","close")})}),$(document).ready(function(){}),$(document).ready(function(){ToggleSearchAndNavMenusForMobile(),SetNavigationActiveState(),SCM.gdprCookieBanner.init(),Modernizr.mq("only all and (min-width: 641px)")&&SetBehaviorForSubMenuDropDowns();$(window).on("redraw",function(){RestoreDesktopViews(),Modernizr.mq("only all and (max-width: 1012px)")?DetachDesktopEvents():SetBehaviorForSubMenuDropDowns()});$(window).on("resize",function(){RestoreDesktopViews(),Modernizr.mq("only all and (max-width: 1012px)")?DetachDesktopEvents():SetBehaviorForSubMenuDropDowns()})}),$(window).load(function(){ToggleTopBarDropdowns(),StickNavigation(),TriggerUmbrellaDropDownSwitch()});$(window).on("redraw resize appear",function(){$(document.body).trigger("sticky_kit:recalc")});$(document).ajaxComplete(function(){$(document.body).trigger("sticky_kit:recalc")});var SetNavigationActiveState=function(){var n=window.location.pathname,t=new RegExp(n.replace(/\/$/,"")+"$");n==="/"?$("#menuSection").first().addClass("active"):$("#menuSection a").each(function(){t.test(this.href.replace(/\/$/,""))&&$(this).closest("li").addClass("currentPage")})},ToggleTopBarDropdowns=function(){var n=$(".sign-in-area, .umb-dropdown-area"),r=$(".umb-logo"),t=$("#UmbNavDropdown, #UserInfoDropdown"),i;t.click(function(n){n.stopPropagation()}),n.click(function(){var r=$($(this).attr("data-toggle-target"));t.not(r).removeClass("expanded"),n.not($(this)).removeClass("dropdown-active"),r.toggleClass("expanded"),r.find(".lazy").each(function(){$(this).attr("src",$(this).attr("data-original"))}),i(),$(this).toggleClass("dropdown-active"),Modernizr.mq("only all and (max-width: 640px)")?(n.not($(this)).removeClass("mobile-active").addClass("mobile-inactive"),$(this).removeClass("mobile-inactive").toggleClass("mobile-active"),$(this).hasClass("mobile-active")||n.not($(this)).removeClass("mobile-inactive")):n.removeClass("mobile-active mobile-inactive")});$("body").on("click",function(r){$(r.target).closest(n).length||(t.removeClass("expanded"),n.removeClass("dropdown-active mobile-active mobile-inactive")),i()});i=function(){$("#UmbNavDropdown").hasClass("expanded")?r.attr("src","/UI/app/images/arvo_journals_logo.png"):r.attr("src","/UI/app/images/arvo_journals_logo-white.png")}},StickNavigation=function(){Modernizr.mq("only all and (min-width: 1013px)")&&$(".header-top").stick_in_parent({parent:".master-container"})},TriggerUmbrellaDropDownSwitch=function(){var n=$(".header-top"),u=$(".master-main"),t="logo-switch",i="two-col-dropdown",f=u.offset().top-n.outerHeight(!0),e=function(){var r=$(window).scrollTop();r>f?$("[theme-umb]").length===0&&(n.addClass(t),n.addClass(i)):n.removeClass(t).removeClass(i)},r=function(){Modernizr.mq("only all and (min-width: 1013px)")?e():n.removeClass(t).removeClass(i)};$(window).scroll(function(){r()}),r()},RestoreDesktopViews=function(){StickNavigation()},ToggleSearchAndNavMenusForMobile=function(){$(".toggle-icon").click(function(n){if(Modernizr.mq("only all and (max-width: 1012px)")||$("html").hasClass("lt-ie9")){var t=$($(this).attr("data-target"));return $("#Search, #SiteNavMenu").not(t).removeClass("expanded"),$(".toggle-icon").not($(this)).removeClass("toggle-active"),$(this).toggleClass("toggle-active"),t.toggleClass("expanded").slideToggle(function(){t.css("overflow","initial")}),n.stopPropagation(),!1}}),$("#SiteNavMenu, #Search").click(function(n){n.stopPropagation()})},SetBehaviorForSubMenuDropDowns=function(){var n;$(".has-menu-dropdown").on({"mouseenter.Dropdown":function(){var t=$(this).find(".site-submenu");n=setTimeout(function(){$(t).fadeIn(200)},150)},"mouseleave.Dropdown":function(){clearTimeout(n);var t=$(this).find(".site-submenu");setTimeout(function(){$(t).fadeOut(200)},150)}})},DetachDesktopEvents=function(){$(".has-menu-dropdown").off(),$(".site-submenu").css("display",""),$(".header-top").trigger("sticky_kit:detach")},solrSuppressFormSubmit=!0;$(document).ready(function(){function n(n,t){var i,r,u;n=encodeURIComponent(n),n=n+"&restypeid=1",i="/solr/searchresults.aspx?q="+n,r=$("#searchResource").val(),r!=""&&(u=$("#searchResource").find(":selected").data("displayname"),i=i+"&f_JournalDisplayName="+encodeURIComponent(u)),window.location.href=$("#hfGlobalSearchSiteURL").val()==undefined|t?i:$("#hfGlobalSearchSiteURL").val()+i}var i=$("#hfSolrMaxAllowSearchChar").val(),t=!1;$("#aspnetForm").bind("keyup keypress",function(n){var t=n.keyCode||n.which;if(t==13&&solrSuppressFormSubmit)return n.preventDefault(),!1}),$("#SearchButton").click(function(){var i=$("#SearchTerm").val();return $.trim(i)==""||i==null||i=="Search..."?(alert("Please enter a term to search"),!1):(t||n(i,!1),!0)}),$("#SearchTerm").keydown(function(i){if(i.keyCode==13){i.preventDefault();var r=$("#SearchTerm").val();if($.trim(r)==""||r==null||r=="Search...")return alert("Please enter a term to search"),!1;t||n(r,!1)}});$("body").on("click",".sriTopiclink",function(){var t=$(this).text(),i=t.replace(",","");n(i,null)})});
/**
@license Sticky-kit v1.1.1 | WTFPL | Leaf Corcoran 2014 | http://leafo.net
 */
(function(){var t,n;t=this.jQuery||window.jQuery,n=t(window),t.fn.stick_in_parent=function(i){var l,e,s,r,u,o,c,f,a,h,v;for(i==null&&(i={}),f=i.sticky_class,s=i.inner_scrolling,c=i.recalc_every,o=i.parent,u=i.offset_top,r=i.spacer,e=i.bottoming,u==null&&(u=0),o==null&&(o=void 0),s==null&&(s=!0),f==null&&(f="is_stuck"),e==null&&(e=!0),a=function(i,h,l,a,v,y,p,w){var tt,et,g,ut,k,d,ft,it,rt,b,nt;if(!i.data("sticky_kit")){if(i.data("sticky_kit",!0),d=i.parent(),o!=null&&(d=d.closest(o)),!d.length)throw"failed to find stick parent";if(g=!1,tt=!1,b=r!=null?r&&i.closest(r):t("<div />"),b&&b.css("position",i.css("position")),ft=function(){var n,t,e;if(!w)return n=parseInt(d.css("border-top-width"),10),t=parseInt(d.css("padding-top"),10),h=parseInt(d.css("padding-bottom"),10),l=d.offset().top+n+t,a=d.height(),g&&(g=!1,tt=!1,r==null&&(i.insertAfter(b),b.detach()),i.css({position:"",top:"",width:"",bottom:""}).removeClass(f),e=!0),v=i.offset().top-parseInt(i.css("margin-top"),10)-u,y=i.outerHeight(!0),p=i.css("float"),b&&b.css({width:i.outerWidth(!0),height:y,display:i.css("display"),"vertical-align":i.css("vertical-align"),float:p}),e?nt():void 0},ft(),y!==a){ut=void 0,k=u,rt=c,nt=function(){var o,et,t,nt,it;if(!w)return rt!=null&&(rt-=1,rt<=0&&(rt=c,ft())),t=n.scrollTop(),ut!=null&&(et=t-ut),ut=t,g?(e&&(nt=t+y+k>a+l,tt&&!nt&&(tt=!1,i.css({position:"fixed",bottom:"",top:k}).trigger("sticky_kit:unbottom"))),t<v&&(g=!1,k=u,r==null&&((p==="left"||p==="right")&&i.insertAfter(b),b.detach()),o={position:"",width:"",top:""},i.css(o).removeClass(f).trigger("sticky_kit:unstick")),s&&(it=n.height(),y+u>it&&(tt||(k-=et,k=Math.max(it-y,k),k=Math.min(u,k),g&&i.css({top:k+"px"}))))):t>v&&(g=!0,o={position:"fixed",top:k},o.width=i.css("box-sizing")==="border-box"?i.outerWidth()+"px":i.width()+"px",i.css(o).addClass(f),r==null&&(i.after(b),(p==="left"||p==="right")&&b.append(i)),i.trigger("sticky_kit:stick")),g&&e&&(nt==null&&(nt=t+y+k>a+l),!tt&&nt)?(tt=!0,d.css("position")==="static"&&d.css({position:"relative"}),i.css({position:"absolute",bottom:h,top:"auto"}).trigger("sticky_kit:bottom")):void 0},it=function(){return ft(),nt()},et=function(){return w=!0,n.off("touchmove",nt),n.off("scroll",nt),n.off("resize",it),t(document.body).off("sticky_kit:recalc",it),i.off("sticky_kit:detach",et),i.removeData("sticky_kit"),i.css({position:"",bottom:"",top:"",width:""}),d.position("position",""),g?(r==null&&((p==="left"||p==="right")&&i.insertAfter(b),b.remove()),i.removeClass(f)):void 0};n.on("touchmove",nt);n.on("scroll",nt);n.on("resize",it);t(document.body).on("sticky_kit:recalc",it);i.on("sticky_kit:detach",et);return setTimeout(nt,0)}}},h=0,v=this.length;h<v;h++)l=this[h],a(t(l));return this}}).call(this),$(document).ready(function(){$(document).on("click","#revealGetAlerts",function(){$("#SignInModal").find(".subscribe-box").hide()});$(".subscribe-box").each(function(){var n=$(this);n.data("hideattribute")?n.hide():n.show()}),$(".requiredtxtusername").focusout(function(){var t=$(this),n=t.parents("#pnlGlobalSignin").find("#reqEmailError");return t.val()?n.hide():(n.show(),n.text("Username is required")),!1}),$(".requiredtxtpassword").focusout(function(){var t=$(this),n=t.parents("#pnlGlobalSignin").find("#reqPasswordError");return t.val()?n.hide():(n.show(),n.text("Password is required")),!1}),$(".si-error").hide(),$(".si-error-message").hide();$(document).on("click",".signInBtn",function(n){var t,l;n.preventDefault();var i=$(this),e=!0,h=i.parents("#pnlGlobalSignin").find("#txtEmail"),c=i.parents("#pnlGlobalSignin").find("#txtPassword"),o=i.parents("#pnlGlobalSignin").find("#reqEmailError"),s=i.parents("#pnlGlobalSignin").find("#reqPasswordError"),r=i.parents("#pnlGlobalSignin").find("#wrong-username-password"),u=i.parents(".si-panel"),f=i.parents("#pnlGlobalSignin").find("#signin-loading-spinner");if($(".si-error").hide(),h.val()==""?(o.show(),o.text("Username is required"),e=!1):o.hide(),c.val()==""?(s.show(),s.text("Password is required"),e=!1):s.hide(),e)u.toggleClass("overlay"),f.toggleClass("hide"),t=window.location.pathname,t=t!=null&&t!="/"?t.toLocaleLowerCase():"/index.aspx",l=t+"/SigninUser",$.ajax({type:"POST",url:l,contentType:"application/json; charset=utf-8",dataType:"json",processData:!1,data:'{"username" : "'+h.val()+'", "password" : "'+c.val()+'" }',success:function(n){var i=n.d[0].UserLoginStatus;return i>0?(t=="/signin.aspx"||t=="/account/resetpassword.aspx"?window.location.href="/index.aspx":t=="/account/createaccount.aspx"?window.location.href="/account/myaccount.aspx#myAlerts":parent.location.reload(!0),!1):i==-2?(u.toggleClass("overlay"),f.toggleClass("hide"),r.show(),r.text("Invalid username and/or password"),!1):(u.toggleClass("overlay"),f.toggleClass("hide"),r.show(),r.text("Error authenticating your account. Please try again."),!1)},error:function(){return u.toggleClass("overlay"),f.toggleClass("hide"),r.show(),r.text("Error authenticating your account. Please try again."),!1}});else return!1})});
/*!
 * The MIT License
 *
 * Copyright (c) 2012 James Allardice
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 */
(function(n){"use strict";function ot(){}function st(){try{return document.activeElement}catch(n){}}function k(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return!0;return!1}function e(n,t,i){return n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent?n.attachEvent("on"+t,i):void 0}function d(n,t){var i;n.createTextRange?(i=n.createTextRange(),i.move("character",t),i.select()):n.selectionStart&&(n.focus(),n.setSelectionRange(t,t))}function ht(n,t){try{return n.type=t,!0}catch(i){return!1}}function ct(n,t){var i;if(n&&n.getAttribute(r))t(n);else{var f=n?n.getElementsByTagName("input"):u,e=n?n.getElementsByTagName("textarea"):h,o=f?f.length:0,c=e?e.length:0,l=o+c,s;for(i=0;i<l;i++)s=i<o?f[i]:e[i-o],t(s)}}function lt(n){ct(n,v)}function kt(n){ct(n,g)}function v(n,t){var e=!!t&&n.value!==t,s=n.value===n.getAttribute(r),i,u;return(e||s)&&n.getAttribute(f)==="true"?(n.removeAttribute(f),n.value=n.value.replace(n.getAttribute(r),""),n.className=n.className.replace(pt,""),i=n.getAttribute(a),parseInt(i,10)>=0&&(n.setAttribute("maxLength",i),n.removeAttribute(a)),u=n.getAttribute(o),u&&(n.type=u),!0):!1}function g(n){var t=n.getAttribute(r),i,u;return n.value===""&&t?(n.setAttribute(f,"true"),n.value=t,n.className+=" "+y,i=n.getAttribute(a),i||(n.setAttribute(a,n.maxLength),n.removeAttribute("maxLength")),u=n.getAttribute(o),u?n.type="text":n.type==="password"&&ht(n,"text")&&n.setAttribute(o,"password"),!0):!1}function dt(n){return function(){w&&n.value===n.getAttribute(r)&&n.getAttribute(f)==="true"?d(n,0):v(n)}}function gt(n){return function(){g(n)}}function ni(n){return function(){lt(n)}}function ti(n){return function(t){return p=n.value,n.getAttribute(f)==="true"&&p===n.getAttribute(r)&&k(yt,t.keyCode)?(t.preventDefault&&t.preventDefault(),!1):void 0}}function ii(n){return function(){v(n,p),n.value===""&&(n.blur(),d(n,0))}}function ri(n){return function(){n===st()&&n.value===n.getAttribute(r)&&n.getAttribute(f)==="true"&&d(n,0)}}function at(n){var t=n.form;t&&typeof t=="string"&&(t=document.getElementById(t),t.getAttribute(tt)||(e(t,"submit",ni(t)),t.setAttribute(tt,"true"))),e(n,"focus",dt(n)),e(n,"blur",gt(n)),w&&(e(n,"keydown",ti(n)),e(n,"keyup",ii(n)),e(n,"click",ri(n))),n.setAttribute(it,"true"),n.setAttribute(r,i),(w||n!==st())&&g(n)}var vt=document.createElement("input"),l=vt.placeholder!==void 0,b,i,t,s,ft,et;if(n.Placeholders={nativeSupport:l,disable:l?ot:lt,enable:l?ot:kt},!l){var nt=["text","search","url","tel","email","password","number","textarea"],yt=[27,33,34,35,36,37,38,39,40,8,46],y="placeholdersjs",pt=new RegExp("(?:^|\\s)"+y+"(?!\\S)"),r="data-placeholder-value",f="data-placeholder-active",o="data-placeholder-type",tt="data-placeholder-submit",it="data-placeholder-bound",a="data-placeholder-maxlength",rt=document.getElementsByTagName("head")[0],ut=document.documentElement,wt=n.Placeholders,p,u=document.getElementsByTagName("input"),h=document.getElementsByTagName("textarea"),w=ut.getAttribute("data-placeholder-focus")==="false",bt=ut.getAttribute("data-placeholder-live")!=="false",c=document.createElement("style");for(c.type="text/css",b=document.createTextNode("."+y+" {color:#ccc;}"),c.styleSheet?c.styleSheet.cssText=b.nodeValue:c.appendChild(b),rt.insertBefore(c,rt.firstChild),s=0,ft=u.length+h.length;s<ft;s++)t=s<u.length?u[s]:h[s-u.length],i=t.attributes.placeholder,i&&(i=i.nodeValue,i&&k(nt,t.type)&&at(t));et=setInterval(function(){for(var n=0,e=u.length+h.length;n<e;n++)t=n<u.length?u[n]:h[n-u.length],i=t.attributes.placeholder,i?(i=i.nodeValue,i&&k(nt,t.type)&&(t.getAttribute(it)||at(t),i===t.getAttribute(r)&&(t.type!=="password"||t.getAttribute(o))||(t.type==="password"&&!t.getAttribute(o)&&ht(t,"text")&&t.setAttribute(o,"password"),t.value===t.getAttribute(r)&&(t.value=i),t.setAttribute(r,i)))):t.getAttribute(f)&&(v(t),t.removeAttribute(r));bt||clearInterval(et)},100),e(n,"beforeunload",function(){wt.disable()})}})(this),function(n,t){"use strict";var i=n.fn.val,r=n.fn.prop;t.Placeholders.nativeSupport||(n.fn.val=function(n){var t=i.apply(this,arguments),r=this.eq(0).data("placeholder-value");return n===undefined&&this.eq(0).data("placeholder-active")&&t===r?"":t},n.fn.prop=function(n,t){return t===undefined&&this.eq(0).data("placeholder-active")&&n==="value"?"":r.apply(this,arguments)})}(jQuery,this);
/*!
 * jQuery Selectbox plugin 0.2
 *
 * Copyright 2011-2012, Dimitar Ivanov (http://www.bulgaria-web-developers.com/projects/javascript/selectbox/)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 * 
 * Date: Tue Jul 17 19:58:36 2012 +0300
 */
(function(n,t){function f(){this._state=[],this._defaults={classHolder:"sbHolder",classHolderDisabled:"sbHolderDisabled",classSelector:"sbSelector",classOptions:"sbOptions",classGroup:"sbGroup",classSub:"sbSub",classDisabled:"sbDisabled",classToggleOpen:"sbToggleOpen",classToggle:"sbToggle",classFocus:"sbFocus",speed:200,effect:"slide",onChange:null,onOpen:null,onClose:null}}var r="selectbox",i=!1,u=!0;n.extend(f.prototype,{_isOpenSelectbox:function(n){if(!n)return i;var t=this._getInst(n);return t.isOpen},_isDisabledSelectbox:function(n){if(!n)return i;var t=this._getInst(n);return t.isDisabled},_attachSelectbox:function(t,f){function p(){var t,i,r=this.attr("id").split("_")[1];for(t in o._state)t!==r&&o._state.hasOwnProperty(t)&&(i=n("select[sb='"+t+"']")[0],i&&o._closeSelectbox(i))}function w(){var i=arguments[1]&&arguments[1].sub?!0:!1,r=arguments[1]&&arguments[1].disabled?!0:!1;arguments[0].each(function(f){var s=n(this),y=n("<li>"),h;s.is(":selected")&&(c.text(s.text()),v=u),f===b-1&&y.addClass("last"),s.is(":disabled")||r?(h=n("<span>",{text:s.text()}).addClass(e.settings.classDisabled),i&&h.addClass(e.settings.classSub),h.appendTo(y)):(h=n("<a>",{href:"#"+s.val(),rel:s.val()}).text(s.text()).bind("click.sb",function(i){var u;i&&i.preventDefault&&i.preventDefault();var f=a,r=n(this),e=f.attr("id").split("_")[1];o._changeSelectbox(t,r.attr("rel"),r.text()),o._closeSelectbox(t),n(".sbActive").removeClass("sbActive"),r.addClass("sbActive"),u=r.attr("rel"),n(".sbHolder").attr("rel",u)}).bind("mouseover.sb",function(){var t=n(this);t.parent().siblings().find("a").removeClass(e.settings.classFocus),t.addClass(e.settings.classFocus)}).bind("mouseout.sb",function(){n(this).removeClass(e.settings.classFocus)}),i&&h.addClass(e.settings.classSub),s.is(":selected")&&h.addClass(e.settings.classFocus),h.appendTo(y)),y.appendTo(l)})}if(this._getInst(t))return i;var s=n(t),o=this,e=o._newInst(s),h,c,a,l,v=i,k=s.find("optgroup"),y=s.find("option"),b=y.length;s.attr("sb",e.uid),n.extend(e.settings,o._defaults,f),o._state[e.uid]=i,s.hide(),h=n("<div>",{id:"sbHolder_"+e.uid,rel:"","class":e.settings.classHolder,tabindex:s.attr("tabindex")}),c=n("<a>",{id:"sbSelector_"+e.uid,rel:"",href:"#","class":e.settings.classSelector,click:function(i){i.preventDefault(),p.apply(n(this),[]);var r=n(this).attr("id").split("_")[1];o._state[r]?o._closeSelectbox(t):o._openSelectbox(t)}}),a=n("<a>",{id:"sbToggle_"+e.uid,href:"#","class":e.settings.classToggle,click:function(i){i.preventDefault(),p.apply(n(this),[]);var r=n(this).attr("id").split("_")[1];o._state[r]?o._closeSelectbox(t):o._openSelectbox(t)}}),a.appendTo(h),l=n("<ul>",{id:"sbOptions_"+e.uid,"class":e.settings.classOptions,css:{display:"none"}}),s.children().each(function(){var t=n(this),i,r={};t.is("option")?w(t):t.is("optgroup")&&(i=n("<li>"),n("<span>",{text:t.attr("label")}).addClass(e.settings.classGroup).appendTo(i),i.appendTo(l),t.is(":disabled")&&(r.disabled=!0),r.sub=!0,w(t.find("option"),r))}),v||c.text(y.first().text()),n.data(t,r,e),h.data("uid",e.uid).bind("keydown.sb",function(t){var l=t.charCode?t.charCode:t.keyCode?t.keyCode:0,u=n(this),h=u.data("uid"),f=u.siblings("select[sb='"+h+"']").data(r),s=u.siblings(["select[sb='",h,"']"].join("")).get(0),i=u.find("ul").find("a."+f.settings.classFocus),e,c;switch(l){case 37:case 38:i.length>0&&(n("a",u).removeClass(f.settings.classFocus),e=i.parent().prevAll("li:has(a)").eq(0).find("a"),e.length>0&&(e.addClass(f.settings.classFocus).focus(),n("#sbSelector_"+h).text(e.text())));break;case 39:case 40:n("a",u).removeClass(f.settings.classFocus),e=i.length>0?i.parent().nextAll("li:has(a)").eq(0).find("a"):u.find("ul").find("a").eq(0),e.length>0&&(e.addClass(f.settings.classFocus).focus(),n("#sbSelector_"+h).text(e.text()));break;case 13:i.length>0&&o._changeSelectbox(s,i.attr("rel"),i.text()),o._closeSelectbox(s);break;case 9:s&&(f=o._getInst(s),f&&(i.length>0&&o._changeSelectbox(s,i.attr("rel"),i.text()),o._closeSelectbox(s))),c=parseInt(u.attr("tabindex"),10),t.shiftKey?c--:c++,n("*[tabindex='"+c+"']").focus();break;case 27:o._closeSelectbox(s)}return t.stopPropagation(),!1}).delegate("a","mouseover",function(){n(this).addClass(e.settings.classFocus)}).delegate("a","mouseout",function(){n(this).removeClass(e.settings.classFocus)}),c.appendTo(h),l.appendTo(h),h.insertAfter(s),n("html").live("mousedown",function(t){t.stopPropagation(),n("select").selectbox("close")}),n([".",e.settings.classHolder,", .",e.settings.classSelector].join("")).mousedown(function(n){n.stopPropagation()})},_detachSelectbox:function(t){var u=this._getInst(t);if(!u)return i;n("#sbHolder_"+u.uid).remove(),n.data(t,r,null),n(t).show()},_changeSelectbox:function(t,i,r){var e,f=this._getInst(t);f&&(e=this._get(f,"onChange"),n("#sbSelector_"+f.uid).text(r)),i=i.replace(/\'/g,"\\'"),n(t).find("option[value='"+i+"']").attr("selected",u),f&&e?e.apply(f.input?f.input[0]:null,[i,f]):f&&f.input&&f.input.trigger("change")},_enableSelectbox:function(t){var u=this._getInst(t);if(!u||!u.isDisabled)return i;n("#sbHolder_"+u.uid).removeClass(u.settings.classHolderDisabled),u.isDisabled=i,n.data(t,r,u)},_disableSelectbox:function(t){var f=this._getInst(t);if(!f||f.isDisabled)return i;n("#sbHolder_"+f.uid).addClass(f.settings.classHolderDisabled),f.isDisabled=u,n.data(t,r,f)},_optionSelectbox:function(t,u,f){var e=this._getInst(t);if(!e)return i;e[u]=f,n.data(t,r,e)},_openSelectbox:function(t){var i=this._getInst(t);if(i&&!i.isOpen&&!i.isDisabled){var f=n("#sbOptions_"+i.uid),s=parseInt(n(window).height(),10),h=n("#sbHolder_"+i.uid).offset(),c=n(window).scrollTop(),e=f.prev().height(),l=s-(h.top-c)-e/2,o=this._get(i,"onOpen");f.css({top:e+"px",maxHeight:l-e+"px"}),i.settings.effect==="fade"?f.fadeIn(i.settings.speed):f.slideDown(i.settings.speed),n("#sbToggle_"+i.uid).addClass(i.settings.classToggleOpen),this._state[i.uid]=u,i.isOpen=u,o&&o.apply(i.input?i.input[0]:null,[i]),n.data(t,r,i)}},_closeSelectbox:function(t){var u=this._getInst(t),f;u&&u.isOpen&&(f=this._get(u,"onClose"),u.settings.effect==="fade"?n("#sbOptions_"+u.uid).fadeOut(u.settings.speed):n("#sbOptions_"+u.uid).slideUp(u.settings.speed),n("#sbToggle_"+u.uid).removeClass(u.settings.classToggleOpen),this._state[u.uid]=i,u.isOpen=i,f&&f.apply(u.input?u.input[0]:null,[u]),n.data(t,r,u))},_newInst:function(n){var t=n[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:t,input:n,uid:Math.floor(Math.random()*99999999),isOpen:i,isDisabled:i,settings:{}}},_getInst:function(t){try{return n.data(t,r)}catch(i){throw"Missing instance data for this selectbox";}},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]}}),n.fn.selectbox=function(t){var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&t=="isDisabled"?n.selectbox["_"+t+"Selectbox"].apply(n.selectbox,[this[0]].concat(i)):t=="option"&&arguments.length==2&&typeof arguments[1]=="string"?n.selectbox["_"+t+"Selectbox"].apply(n.selectbox,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.selectbox["_"+t+"Selectbox"].apply(n.selectbox,[this].concat(i)):n.selectbox._attachSelectbox(this,t)})},n.selectbox=new f,n.selectbox.version="0.2"})(jQuery),SCM=SCM||{},SCM.Utilities=SCM.Utilities||{},SCM.Utilities.LocalStorage=function(){"use strict";function c(t,i,u){var u=u?u:r;u.setItem(n+"."+t,JSON.stringify(i))}function l(t,i){var i=i?i:r,u=i.getItem(n+"."+t);return JSON.parse(u)}function a(t,i){var i=i?i:r;i.removeItem(n+"."+t)}function v(t,r,u){var h=i(u)+"."+t,f,o;return SCM.Utilities.LocalStorage.setItem(h,r),s(u,t),CrossStorageClient===undefined?(console.error("CrossStorageClient library is not available.  Falling back to localStorage"),f=Promise.reject("CrossStorageClient library is not available")):(o=e(u),f=o.onConnect().then(function(){return o.set(n+"."+t,JSON.stringify(r))})["catch"](function(n){console.error("Failed to retrieve / set cross-domain localStorage :: "+n.message)})),f}function o(t,r){var o=i(r)+"."+t,u,f;return CrossStorageClient===undefined?(console.error("CrossStorageClient library is not available."),u=Promise.reject("CrossStorageClient library is not available")):(f=e(r),u=f.onConnect().then(function(){return f.get(n+"."+t)}).then(function(n){return JSON.parse(n)})["catch"](function(n){console.error("Failed to retrieve from cross-domain localStorage (nocache) :: "+n.message),n.message.includes("Could not access localStorage in hub")&&console.warn("It seems that the browser is set to block third-party cookies and data.  Cross-domain localStorage cannot function in this state.");throw n;})),u}function y(n,t){var r=i(t)+"."+n;return CrossStorageClient===undefined?console.error("CrossStorageClient library is not available.  Falling back to localStorage"):h(t,n)||b(t,n)||(w(t,n),o(n,t).then(function(i){i&&(h(t,n)||(s(t,n),SCM.Utilities.LocalStorage.setItem(r,i)))})["catch"](function(n){console.error("Failed to retrieve from cross-domain localStorage :: "+n.message)})),SCM.Utilities.LocalStorage.getItem(r)}function p(t,r){if(CrossStorageClient===undefined)console.error("CrossStorageClient library is not available.  Falling back to localStorage");else{var u=e(r);u.onConnect().then(function(){return u.del(n+"."+t)})["catch"](function(n){console.error("Failed to save to cross-domain localStorage :: "+n.message)})}SCM.Utilities.LocalStorage.removeItem(i(r)+"."+t)}function i(n){return $("<a>",{href:n}).prop("hostname")}function e(n){for(var r,i=0;i<t.length;i++)if(t[i].hubUrl===n)return t[i].storage;return r=new CrossStorageClient(n,{timeout:15e3}),t.push({hubUrl:n,storage:r}),r}function s(n,t){var i=n+"::"+t;u.indexOf(i)===-1&&u.push(i)}function h(n,t){var i=n+"::"+t;return u.indexOf(i)!==-1}function w(n,t){var i=n+"::"+t;f.indexOf(i)===-1&&f.push(i)}function b(n,t){var i=n+"::"+t;return f.indexOf(i)!==-1}var n="SCM",r=window.localStorage,u=[],f=[],t=[];return{getItem:l,setItem:c,removeItem:a,getItemCrossDomainNoCache:o,getItemCrossDomain:y,setItemCrossDomain:v,removeItemCrossDomain:p}}(),SCM=SCM||{},App=App||{},function(n,t,i){var r="instOpenUrlKey_",u="instOpenUrlNoDOIKey_",f="instOpenUrlBaseUrlKey_";n.replaceOpenUrlPlaceHolders=function(n,i){i!==null&&i!==""&&n!==null&&n.each(function(){var n=t(this).attr("data-targetId"),r=i.replace("{openUrlTargetId}",n);t(this).html(r),t(this).parent().show()})},n.replaceOpenUrlNonDOIPlaceHolders=function(n,i,r){r!==null&&r!==""&&n!==null&&n.each(function(){var n=t(this).find(".js-open-url-link"),u;n&&n.length&&(u=n.attr("data-href-template"),u&&u.length&&(u=u.replace("{targetURL}",i),n.attr("href",u),n.removeAttr("data-href-template"),n.html(r),t(this).parent().show()))})},n.getAndReplaceOpenUrlPlaceHolders=function(e,o){t.ajax({type:"POST",url:"/ThirdParty/InstitutionOpenUrlTemplate",dataType:"json",success:function(t){if(t!==null&&t!=="undefined"){var s="",h="";t.DisplayOpenUrlLink==!0&&(t.LinkImageSource!==null&&t.LinkImageSource!==""?(s=" <a class='openInAnotherWindow' target='_blank' href='"+t.TargetUrl+"'><img src='"+t.LinkImageSource+"'/><\/a> ",h="<img src='"+t.LinkImageSource+"'/>"):(s=" <a class='openInAnotherWindow' target='_blank' href='"+t.TargetUrl+"'> "+t.LinkImageText+" <\/a> ",h="<img src='"+t.LinkImageSource+"'/> ")),n.replaceOpenUrlPlaceHolders(e,s),n.replaceOpenUrlNonDOIPlaceHolders(o,t.BaseUrl,h),i!==null&&window.sessionStorage!==null&&typeof window.App.LoginUserInfo!="undefined"&&typeof window.App.LoginUserInfo.currentSessionId!="undefined"&&(i.setItem(r+window.App.LoginUserInfo.currentSessionId,s,window.sessionStorage),i.setItem(u+window.App.LoginUserInfo.currentSessionId,h,window.sessionStorage),i.setItem(f+window.App.LoginUserInfo.currentSessionId,t.BaseUrl,window.sessionStorage))}},error:function(){}})},n.checkAndReplaceOpenUrlPlaceHolders=function(){if(typeof window.App.LoginUserInfo!="undefined"&&window.App.LoginUserInfo.isInstLoggedIn>0){var e=t('span[class="inst-open-url-holders"]'),h=e&&e.length?e:null,o=t('span[class="js-inst-open-url-holders-nodoi"]'),c=o&&o.length?o:null,s=null;if(i!==null&&window.sessionStorage!==null&&typeof window.App.LoginUserInfo.currentSessionId!="undefined")var s=i.getItem(r+window.App.LoginUserInfo.currentSessionId,window.sessionStorage),l=i.getItem(u+window.App.LoginUserInfo.currentSessionId,window.sessionStorage),a=i.getItem(f+window.App.LoginUserInfo.currentSessionId,window.sessionStorage);s&&l&&a?(n.replaceOpenUrlPlaceHolders(h,s),n.replaceOpenUrlNonDOIPlaceHolders(c,a,l)):n.getAndReplaceOpenUrlPlaceHolders(h,c)}},n.init=function(){n.checkAndReplaceOpenUrlPlaceHolders()}}(SCM.InstitutionOpenUrl=SCM.InstitutionOpenUrl||{},jQuery,SCM.Utilities.LocalStorage)